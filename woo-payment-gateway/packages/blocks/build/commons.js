/*! For license information please see commons.js.LICENSE.txt */
(self.webpackChunkwcBraintree=self.webpackChunkwcBraintree||[]).push([[351],{2266:function(t,e,r){var n=r(9307);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function c(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(f,t);var e,r,o,l,s=(o=f,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(o);if(l){var r=u(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return c(this,t)});function f(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(e=s.call(this,t)).state={hasError:!1,error:null,errorInfo:null},e}return e=f,(r=[{key:"componentDidCatch",value:function(t,e){this.setState({hasError:!0,error:t,errorInfo:e})}},{key:"render",value:function(){return this.state.hasError?n.createElement(n.Fragment,null,this.state.error&&n.createElement("div",{className:"wc-braintree-blocks__error"},this.state.error.toString()),this.state.errorInfo&&n.createElement("div",{className:"wc-braintree-blocks__error"},this.state.errorInfo.componentStack)):this.props.children}}])&&i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),f}(r(9307).Component);e.default=l},739:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.FastlaneLink=void 0,e.FastlaneLink=function(t){var e=t.onClick,r=t.text,o=t.logo;return n.createElement("div",{className:"fastlane-signup-link-container",onClick:e},n.createElement("span",null,r),n.createElement("img",{className:"fastlane-signup-img",src:o}))}},890:function(t,e,r){var n=r(9307);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.FastlaneModal=void 0;var i,a=r(9307),c=(i=r(4184))&&i.__esModule?i:{default:i};function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(){"use strict";f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function d(){}function h(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,a,c,u){var l=s(t[i],t,a);if("throw"!==l.type){var f=l.arg,p=f.value;return p&&"object"==o(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(p).then((function(t){f.value=t,c(f)}),(function(t){return n("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y,u(b,"constructor",y),u(y,"constructor",h),h.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),u(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function p(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){p(i,n,o,a,c,"next",t)}function c(t){p(i,n,o,a,c,"throw",t)}a(void 0)}))}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.FastlaneModal=function(t){var e,r,o=t.i18n,i=t.open,u=t.onClose,s=t.fastlane,p=t.onTokenize,y=t.shippingData,v=(e=(0,a.useState)(!1),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,r)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=v[0],g=v[1],b=(0,a.useRef)({fastlane:s,shippingData:y}),w=(0,a.useCallback)(function(){var t=d(f().mark((function t(e){var r,n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,r=b.current.paymentComponent,t.next=5,r.getPaymentToken();case 5:n=t.sent,p(n),u(!0),g(!1),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log("Error tokenizing payment method. ",t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),[]);return(0,a.useEffect)((function(){b.current=l(l({},b.current),{},{fastlane:s,shippingData:y})}),[s,y]),(0,a.useEffect)((function(){if(i){var t=b.current.shippingData,e=t.needsShipping,r=t.shippingAddress,n=l({},e&&{shippingAddress:{firstName:r.first_name||"",lastName:r.last_name||"",streetAddress:r.address_1||"",extendedAddress:r.address_2||"",locality:r.city||"",region:r.state||"",postalCode:r.postcode||"",countryCodeAlpha2:r.country||"",phoneNumber:r.phone||""}});s.FastlanePaymentComponent(n).then(function(){var t=d(f().mark((function t(e){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b.current.paymentComponent=e,t.next=3,e.render(".wc-ppcp-fastlane-modal-body");case 3:document.body.classList.add("fastlane-modal-open"),setTimeout((function(){g(!0)}),250);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}else document.body.classList.remove("fastlane-modal-open");return function(){return document.body.classList.remove("fastlane-modal-open")}}),[i]),n.createElement("div",{className:(0,c.default)("wc-ppcp-fastlane-overlay",{active:m})},n.createElement("div",{className:"wc-ppcp-fastlane-modal"},n.createElement("div",{className:"wc-ppcp-fastlane-modal-body"}),n.createElement("div",{className:"wc-ppcp-fastlane-modal-buttons"},n.createElement("button",{className:"wc-ppcp-fastlane-tokenize",onClick:w},o.continue),n.createElement("a",{className:"wc-ppcp-fastlane-cancel",onClick:function(){g(!1),u()}},o.cancel))))}},6723:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(9215);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var o=r(9448);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}));var i=r(7739);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===i[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))}));var a=r(9548);Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===a[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))}));var c=r(739);Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===c[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}}))}));var u=r(890);Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===u[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))}))},9215:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Notice=void 0;var o,i=(o=r(4184))&&o.__esModule?o:{default:o},a=r(5609);function c(){return c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c.apply(this,arguments)}var u=function(t){var e=t.notice,r=t.onRemove,o=(0,i.default)("wc-braintree-blocks__notice ".concat(e.type));return n.createElement(a.Notice,c({key:"notice-".concat(e.type),className:o,onRemove:function(){e.isDismissible&&r()}},e),e.message)};e.Notice=u;var l=u;e.default=l},7739:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.PaymentMethodLabel=void 0;var o=function(t){var e=t.title,r=(t.paymentMethod,t.components),o=t.icon,i=void 0===o?[]:o,a=r.PaymentMethodLabel,c=r.PaymentMethodIcons;return Array.isArray(i)||(i=[i]),n.createElement("span",{className:"wc-braintree-blocks-paymentMethod__label"},n.createElement(a,{text:e}),n.createElement(c,{icons:i,align:"left"}))};e.PaymentMethodLabel=o;var i=o;e.default=i},9448:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.PaymentMethod=void 0;var o=r(9307),i=r(89),a=r(3636),c=["content","description","icons"];function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u.apply(this,arguments)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=function(t){var e,r,a=t.content,s=t.description,p=void 0===s?"":s,d=(t.icons,function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,c)),h=(0,o.useRef)(),y=(e=(0,o.useState)(null),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,r)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=y[0],m=y[1],g=a;return(0,o.useEffect)((function(){h.current&&m(h.current)}),[]),n.createElement("div",{ref:h,className:"wc-braintree-blocks-payment-method__container"},p&&n.createElement("div",{className:"wc-braintree-blocks-payment-method__description"},p),n.createElement(i.PaymentMethodDataProvider,u({container:v},d),n.createElement(f,d,n.createElement(g,d))))};e.PaymentMethod=s;var f=function(t){var e=t.children,r=t.name,n=t.onError,o=t.billing,c=t.gatewayId,u=t.shippingData,l=t.eventRegistration,s=t.emitResponse,f=t.activePaymentMethod,p=t.isExpress,d=void 0!==p&&p,h=t.advancedFraudOptions,y=void 0===h?{}:h,v=l.onPaymentSetup,m=l.onCheckoutFail,g=s.responseTypes,b=s.noticeContexts,w=(0,i.usePaymentMethodDataContext)().fastlane;return(0,a.useProcessPayment)({name:r,billing:o,gatewayId:c,shippingData:u,responseTypes:g,onPaymentSetup:v,useFastlane:null!==w.paymentToken,activePaymentMethod:f,advancedFraudOptions:y}),(0,a.useProcessPaymentFailure)({event:m,onError:d?n:null,responseTypes:g,paymentMethodId:r,activePaymentMethod:f,messageContext:d?b.EXPRESS_PAYMENTS:null}),e},p=s;e.default=p},9548:function(t,e,r){var n=r(9307);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SavedTokenProvider=e.SavedTokenComponent=void 0;var i=r(9307),a=r(9154),c=r(3636),u=r(89);function l(){"use strict";l=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function h(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,a,c,u){var l=f(t[i],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==o(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y,u(b,"constructor",y),u(y,"constructor",h),h.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),u(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){s(i,n,o,a,c,"next",t)}function c(t){s(i,n,o,a,c,"throw",t)}a(void 0)}))}}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}e.SavedTokenProvider=function(t){return n.createElement(u.PaymentMethodDataProvider,d({},t),n.createElement(y,d({},t)))};var y=function(t){var e=t.name,r=t.gatewayId,n=t.vaultedThreeDSecure,o=void 0!==n&&n,s=t.token,p=t.eventRegistration,y=t.billing,v=t.shippingData,m=t.emitResponse.responseTypes,g=p.onPaymentSetup,b=p.onCheckoutFail,w=(0,i.useRef)({billing:y,shippingData:v}),O=(0,u.usePaymentMethodDataContext)().doPaymentDataFilter;return(0,c.useDeviceData)(),(0,c.useThreeDSecure)({name:e,gatewayId:r,vaulted:o}),(0,c.useProcessPaymentFailure)({event:b,responseTypes:m}),(0,i.useEffect)((function(){w.current={name:e,billing:y,shippingData:v}})),(0,i.useEffect)((function(){var t=g(f(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=16;break}return t.prev=1,t.next=4,(0,a.fetchTokenNonce)(s);case 4:if((e=t.sent).success){t.next=7;break}throw new a.BraintreeError({message:e.message});case 7:return t.next=9,O({meta:{paymentMethodData:h({},"".concat(r,"_3ds_nonce_key"),"true")}},d(d({},w.current),{result:e.data}));case 9:return e=t.sent,t.abrupt("return",(0,a.ensureSuccessResponse)(m,e));case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",(0,a.ensureErrorResponse)(m,t.t0));case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,null,[[1,13]])}))));return function(){return t()}}),[r,g,o,s,e,m]),null};e.SavedTokenComponent=y;var v=y;e.default=v},9229:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ACTION_TYPES=void 0,e.ACTION_TYPES={SET_FASTLANE:"SET_FASTLANE",SET_PAYMENT_TOKEN:"SET_PAYMENT_TOKEN",SET_CUSTOMER_CONTEXT:"SET_CUSTOMER_CONTEXT",ADD_CANCELED_EMAIL:"ADD_CANCELED_EMAIL"}},4369:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setPaymentToken=e.setFastlane=e.setCustomerContextId=e.addCanceledEmail=void 0;var n=r(9229);e.setPaymentToken=function(t){return{type:n.ACTION_TYPES.SET_PAYMENT_TOKEN,token:t}},e.setFastlane=function(t){return{type:n.ACTION_TYPES.SET_FASTLANE,fastlane:t}},e.setCustomerContextId=function(t){return{type:n.ACTION_TYPES.SET_CUSTOMER_CONTEXT,id:t}},e.addCanceledEmail=function(t){return{type:n.ACTION_TYPES.ADD_CANCELED_EMAIL,email:t}}},2670:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.STORE_KEY=void 0,e.STORE_KEY="wc-braintree/store/checkout"},4520:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"STORE_KEY",{enumerable:!0,get:function(){return a.STORE_KEY}}),e.store=void 0;var o,i=r(9818),a=(r(3418),r(2670)),c=f(r(4369)),u=(o=r(6598))&&o.__esModule?o:{default:o},l=f(r(164));function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(s=function(t){return t?r:e})(t)}function f(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var r=s(e);if(r&&r.has(t))return r.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var c=i?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=t[a]}return o.default=t,r&&r.set(t,o),o}var p={reducer:u.default,selectors:l,actions:c},d=(0,i.createReduxStore)(a.STORE_KEY,p);e.store=d,(0,i.register)(d)},6598:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0,r=t;switch(e.type){case n.ACTION_TYPES.SET_FASTLANE:r=c(c({},t),{},{fastlane:e.fastlane});break;case n.ACTION_TYPES.SET_PAYMENT_TOKEN:r=c(c({},t),{},{token:e.token});break;case n.ACTION_TYPES.SET_CUSTOMER_CONTEXT:r=c(c({},t),{},{customerContextId:e.id});break;case n.ACTION_TYPES.ADD_CANCELED_EMAIL:r=c(c({},t),{},{canceledEmails:[].concat(o(t.canceledEmails),[e.email])})}return r};var n=r(9229);function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={token:null,fastlane:null,canceledEmails:[],customerContextId:null}},164:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCustomerFound=e.getPaymentToken=e.getFastlane=e.getCanceledEmails=void 0,e.getPaymentToken=function(t){return t.token},e.getFastlane=function(t){return t.fastlane},e.isCustomerFound=function(t){return!!t.customerContextId},e.getCanceledEmails=function(t){return t.canceledEmails}},9495:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(4520);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}))},4142:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(1990);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var o=r(703);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}))},1990:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.useCreatePaymentRequest=e.default=void 0;var n=r(9307),o=r(9154),i=r(2338);function a(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u=function(t){var e=t.applePayInstance,r=t.billing,c=t.shippingData,u=t.getData,l=(0,n.useRef)({});return(0,n.useEffect)((function(){l.current.billing=r,l.current.shippingData=c}),[r,c]),(0,n.useMemo)((function(){if(e){var t=l.current.billing,r=t.cartTotal,n=t.currency,c=t.cartTotalItems,s=t.billingAddress,f=l.current.shippingData,p=f.needsShipping,d=f.shippingRates,h={total:{label:u("displayName"),type:"final",amount:(0,o.removeNumberPrecision)(r.value,n.minorUnit).toString()},lineItems:(0,i.formatLineItems)(c,n.minorUnit),currencyCode:n.code,countryCode:u("countryCode"),requiredBillingContactFields:["postalAddress"],requiredShippingContactFields:(y=p?["postalAddress"]:[],s.email||(y=[].concat(a(y),["email"])),s.phone||(y=[].concat(a(y),["phone"])),y)};return p&&(h.shippingMethods=(0,i.formatShippingMethods)(d)),e.createPaymentRequest(h)}var y;return null}),[e])};e.useCreatePaymentRequest=u;var l=u;e.default=l},703:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.useCreateSession=e.default=void 0;var n,o=r(9307),i=(r(5736),r(2819)),a=r(89),c=r(3636),u=(n=r(6989))&&n.__esModule?n:{default:n},l=r(9154);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t,e){if(t){if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var y=function(t){var e=t.applePayInstance,r=t.billing,n=t.shippingData,s=t.paymentRequest,p=t.eventRegistration,y=t.onClick,v=t.onClose,m=t.getData,g=(0,c.usePaymentEventsHandler)({billing:r,shippingData:n,eventRegistration:p}).addShippingHandler,b=(0,a.usePaymentMethodDataContext)(),w=b.onSubmit,O=b.setPaymentMethodNonce,E=b.onPaymentDataFilter,_=b.notice.addNotice,S=(0,o.useRef)({}),P=(0,o.useRef)({billing:r,shippingData:n,onClick:y,onClose:v,onSubmit:w,addNotice:_,addShippingHandler:g,setPaymentMethodNonce:O,onPaymentDataFilter:E}),j=(0,o.useCallback)((function(){var t,e=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=d(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}((0,i.range)(10,2,-1));try{for(e.s();!(t=e.n()).done;){var r=t.value;if(ApplePaySession.supportsVersion(r))return r}}catch(t){e.e(t)}finally{e.f()}return 3}),[]),x=(0,o.useCallback)((function(){(0,P.current.onClose)()}),[]),k=(0,o.useCallback)((function(t){var r=P.current.session;e.performValidation({validationURL:t.validationURL,displayName:m("displayName")}).then((function(t){r.completeMerchantValidation(t)})).catch((function(t){r.abort(),_(t)}))}),[e,_]),L=(0,o.useCallback)((function(t){var e,r,n,o,i=t.paymentMethod,a=P.current,c=a.session,l=a.addNotice,s=null;i.billingContact&&(s={country:(null===(e=i.billingContact)||void 0===e?void 0:e.countryCode)||"",state:(null===(r=i.billingContact)||void 0===r?void 0:r.administrativeArea)||"",postcode:(null===(n=i.billingContact)||void 0===n?void 0:n.postalCode)||"",city:(null===(o=i.billingContact)||void 0===o?void 0:o.locality)||""}),(0,u.default)({method:"POST",url:m("routes").payment_method,data:{address:s}}).then((function(t){t.code?(c.abort(),l(t.messages)):c.completePaymentMethodSelection(t.data)})).catch((function(t){}))}),[]),A=(0,o.useCallback)((function(t){var e=P.current.session,r=t.shippingContact,n=P.current.shippingData,o=n.shippingAddress,i=(o.country,o.state,o.city,o.postcode,{country:null==r?void 0:r.countryCode.toUpperCase(),state:null==r?void 0:r.administrativeArea.toUpperCase(),city:r.locality,postcode:r.postalCode});(0,u.default)({method:"POST",url:m("routes").shipping_address,data:{payment_method:"braintree_applepay",address:i}}).then((function(t){t.code?"addressUnserviceable"===t.code?e.completeShippingContactSelection(t.data.shippingContactUpdate):e.completeShippingContactSelection({errors:[new ApplePayError(t.code,t.data.contactField,t.message)],newTotal:t.data.newTotal,newShippingMethods:t.data.newShippingMethods}):e.completeShippingContactSelection(t.data.shippingContactUpdate)})).finally((function(){n.setShippingAddress(f(f({},o),i))}))}),[]),C=(0,o.useCallback)((function(t){var e=t.shippingMethod,r=P.current,n=r.session,o=r.shippingData,i=(r.addNotice,o.setSelectedRates);o.selectedRates,(0,u.default)({method:"POST",url:m("routes").shipping_method,data:{payment_method:"braintree_applepay",shipping_method:e.identifier}}).then((function(t){t.code?n.abort():n.completeShippingMethodSelection(t.data.shippingMethodUpdate)})).finally((function(){var t;i.apply(void 0,function(t){if(Array.isArray(t))return h(t)}(t=(0,l.extractSelectedShippingOption)(e.identifier))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}))}),[]),D=(0,o.useCallback)((function(t){var r,n=P.current,o=n.session,i=n.setPaymentMethodNonce,a=n.errors,c=void 0===a?[]:a;(null==c?void 0:c.length)>0?o.completePayment({status:ApplePaySession.STATUS_FAILURE,errors:c}):e.tokenize({token:null==t||null===(r=t.payment)||void 0===r?void 0:r.token}).then((function(e){var r=t.payment,n=r.shippingContact,a=void 0===n?null:n,c=r.billingContact,u=void 0===c?null:c;S.current.billingAddress={},u&&(S.current.billingAddress=f(f({first_name:null==u?void 0:u.givenName,last_name:null==u?void 0:u.familyName,city:null==u?void 0:u.locality,state:null==u?void 0:u.administrativeArea,postcode:null==u?void 0:u.postalCode,country:null==u?void 0:u.countryCode},(0,l.extractAddressLines)((null==u?void 0:u.addressLines)||"")),S.current.billingAddress),u.emailAddress&&(S.current.billingAddress.email=u.emailAddress),u.phoneNumber&&(S.current.billingAddress.phone=u.phoneNumber)),a&&(P.current.shippingData.needsShipping&&(S.current.shippingAddress=f({first_name:null==a?void 0:a.givenName,last_name:null==a?void 0:a.familyName,city:null==a?void 0:a.locality,state:null==a?void 0:a.administrativeArea,postcode:null==a?void 0:a.postalCode,country:null==a?void 0:a.countryCode},(0,l.extractAddressLines)((null==a?void 0:a.addressLines)||[])),S.current.billingAddress.phone?S.current.shippingAddress.phone=S.current.billingAddress.phone:null!=a&&a.phoneNumber&&(S.current.shippingAddress.phone=a.phoneNumber)),null!=a&&a.phoneNumber&&!S.current.billingAddress.phone&&(S.current.billingAddress.phone=null==a?void 0:a.phoneNumber),null!=a&&a.emailAddress&&!S.current.billingAddress.email&&(S.current.billingAddress.email=null==a?void 0:a.emailAddress)),S.current.nonce=e.nonce,i(e.nonce),o.completePayment(ApplePaySession.STATUS_SUCCESS)})).catch((function(t){o.completePayment(ApplePaySession.STATUS_FAILURE)}))}),[e]);(0,o.useEffect)((function(){P.current=f(f({},P.current),{},{billing:r,shippingData:n,onClick:y,onClose:v,onSubmit:w,addNotice:_,addShippingHandler:g,setPaymentMethodNonce:O})})),(0,o.useEffect)((function(){var t=E((function(t,e){var r,n,o=e.nonceKey,a=e.billing,c=e.shippingData;return S.current.nonce&&(t.meta.paymentMethodData[o]=S.current.nonce),(0,i.isEmpty)(null===(r=S.current)||void 0===r?void 0:r.billingAddress)||(t.meta.billingAddress=f(f(f({},l.DEFAULT_BILLING_ADDRESS),a.billingAddress),S.current.billingAddress)),(0,i.isEmpty)(null===(n=S.current)||void 0===n?void 0:n.shippingAddress)||(t.meta.shippingAddress=f(f(f({},l.DEFAULT_SHIPPING_ADDRESS),c.shippingAddress),S.current.shippingAddress)),t}));return function(){return t()}}),[E]);var N=(0,o.useCallback)((function(){var t=P.current.shippingData,e=new ApplePaySession(j(),s);return e.onvalidatemerchant=k,e.onpaymentmethodselected=L,e.onpaymentauthorized=D,e.oncancel=x,t.needsShipping&&(e.onshippingcontactselected=A,e.onshippingmethodselected=C),P.current.session=e,e}),[e,s,j,k,L,D,A,C]);return{handleClick:(0,o.useCallback)((function(t){t.preventDefault(),P.current.onClick();try{N().begin()}catch(t){alert(t)}}),[N])}};e.useCreateSession=y;var v=y;e.default=v},3846:function(t,e,r){var n=r(9307);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var i=r(9307),a=r(4613),c=r(1634),u=r(9154),l=r(9448),s=r(89),f=r(4142),p=h(r(2266)),d=h(r(1420));function h(t){return t&&t.__esModule?t:{default:t}}function y(){"use strict";y=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=h.prototype=p.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,a,c,u){var l=s(t[i],t,a);if("throw"!==l.type){var f=l.arg,p=f.value;return p&&"object"==o(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(p).then((function(t){f.value=t,c(f)}),(function(t){return n("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=h,u(b,"constructor",h),u(h,"constructor",d),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),u(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function v(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g,b,w=(0,u.getSettings)("braintree_applepay"),O=new Promise((function(t,e){(0,c.create)({authorization:(0,u.getClientToken)()}).then((function(e){return t(e)})).catch((function(t){return e(t)}))})),E=function(t){var e,r,o=t.getData,a=t.billing,c=t.shippingData,u=t.eventRegistration,l=t.onClick,p=t.onClose,d=(e=(0,i.useState)(null),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,r)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=d[0],y=d[1],v=(0,s.usePaymentMethodDataContext)().notice.addNotice,g=(0,f.useCreatePaymentRequest)({applePayInstance:h,billing:a,shippingData:c,getData:o}),b=(0,f.useCreateSession)({applePayInstance:h,billing:a,shippingData:c,paymentRequest:g,eventRegistration:u,onClick:l,onClose:p,getData:o}).handleClick;return(0,i.useEffect)((function(){O.then((function(t){return y(t)})).catch((function(t){return v(t)}))}),[]),n.createElement("div",{className:"wc-braintree-blocks-apple-pay-button__container"},n.createElement(_,{onClick:b,type:o("buttonType"),style:o("buttonStyle"),rounded:o("roundedButton")}))},_=function(t){var e=t.onClick,r=t.type,o=t.style,i=t.rounded,a=void 0!==i&&i,c={ApplePayButtonType:r,ApplePayButtonStyle:function(t){switch(t){case"apple-pay-button-black":return"black";case"apple-pay-button-white":return"white";case"apple-pay-button-white-with-line":return"white-outline"}}(o)};return n.createElement("button",{className:"wc-braintree-blocks-apple-pay__button ".concat(o," ").concat(a?"apple-pay-button-rounded":""),style:c,onClick:e})};(0,a.registerExpressPaymentMethod)({name:"braintree_applepay_express",gatewayId:w("name"),paymentMethodId:w("name"),canMakePayment:(g=y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,u.isCartPage)()||w("expressCartEnabled")){t.next=2;break}return t.abrupt("return",!1);case 2:if(!(0,u.isCheckoutPage)()||w("expressCheckoutEnabled")){t.next=4;break}return t.abrupt("return",!1);case 4:return t.abrupt("return",window.ApplePaySession&&ApplePaySession.canMakePayments());case 5:case"end":return t.stop()}}),t)})),b=function(){var t=this,e=arguments;return new Promise((function(r,n){var o=g.apply(t,e);function i(t){v(o,r,n,i,a,"next",t)}function a(t){v(o,r,n,i,a,"throw",t)}i(void 0)}))},function(){return b.apply(this,arguments)}),content:n.createElement(l.PaymentMethod,{content:function(t){return n.createElement(p.default,null,n.createElement(E,t))},title:w("title"),name:"braintree_applepay_express",gatewayId:w("name"),icon:w("icon"),getData:w,isExpress:!0}),edit:n.createElement(d.default,{src:w("editor").icon}),supports:{features:w("features")}})},1420:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.src;return n.createElement("div",{className:"apple-pay-block-editor",style:{maxHeight:"40px",backgroundColor:"#000",borderRadius:"4px"}},n.createElement("img",{src:e,style:{width:"100%",height:"40px",objectFit:"contain"}}))}},2338:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.formatShippingMethods=e.formatLineItems=void 0;var n=r(9154);function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.formatLineItems=function(t,e){var r=[],o=["total_tax","total_shipping"];return t.forEach((function(t){(0<t.value||t.key&&o.includes(t.key))&&r.push({label:t.label,type:"final",amount:(0,n.removeNumberPrecision)(t.value,e).toString()})})),r},e.formatShippingMethods=function(t){var e=[];return t.forEach((function(t,r){var i=t.shipping_rates.map((function(t){var e=document.createElement("textarea");return e.innerHTML=t.name,{identifier:(0,n.getShippingOptionId)(r,t.rate_id),label:e.value,detail:"",amount:(0,n.removeNumberPrecision)(t.price,t.currency_minor_unit)}}));e=[].concat(o(e),o(i))})),e}},658:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.useActionEmitter=e.emittFilter=void 0;var o=r(9307),i=r(2819),a=r(3160);function c(){"use strict";c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function h(){}function y(){}var v={};l(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function o(i,a,c,u){var l=f(t[i],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==n(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y,l(b,"constructor",y),l(y,"constructor",h),h.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),l(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),l(b,u,"Generator"),l(b,i,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function u(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}e.useActionEmitter=function(t){var e=(0,o.useMemo)((function(){return{onPaymentDataFilter:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n={action:a.ACTIONS.ADD_ACTION,type:"payment_data_filter",id:(0,i.uniqueId)(),callback:e,priority:r};return t(n),function(){return t({action:a.ACTIONS.REMOVE_ACTION,type:n.type,id:n.id})}}}}),[t]);return e};var f=function(){var t,e=(t=c().mark((function t(e,r,n){var o,i,a,l,s,f,p;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=n.handlers,i=n.type,a=o[i],l=Array.from(a.values()).sort((function(t,e){return t.priority-e.priority})),t.prev=3,s=u(l),t.prev=5,s.s();case 7:if((f=s.n()).done){t.next=14;break}return p=f.value,t.next=11,Promise.resolve(p.callback(e,r));case 11:e=t.sent;case 12:t.next=7;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),s.e(t.t0);case 19:return t.prev=19,s.f(),t.finish(19);case 22:t.next=28;break;case 24:throw t.prev=24,t.t1=t.catch(3),console.log(t.t1),t.t1;case 28:return t.abrupt("return",e);case 29:case"end":return t.stop()}}),t,null,[[3,24],[5,16,19,22]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){s(i,n,o,a,c,"next",t)}function c(t){s(i,n,o,a,c,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();e.emittFilter=f},3160:function(t,e){function r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(e,"__esModule",{value:!0}),e.actionReducer=e.ACTIONS=void 0;var i={ADD_ACTION:"add_action",REMOVE_ACTION:"remove_action"};e.ACTIONS=i,e.actionReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,r=e.action,a=e.type,c=e.id,u=e.callback,l=e.priority,s=void 0===l?10:l,f=t[a]?t[a]:new Map;switch(r){case i.ADD_ACTION:return f.set(c,{callback:u,priority:s}),n(n({},t),{},o({},a,f));case i.REMOVE_ACTION:return f.delete(c),n(n({},t),{},o({},a,f))}return t}},89:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(8085);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var o=r(3160);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}));var i=r(658);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===i[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))}))},8085:function(t,e,r){var n=r(9307);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.usePaymentMethodDataContext=e.PaymentMethodDataProvider=void 0;var i=r(9307),a=r(9818),c=r(878),u=r(89),l=r(9154),s=r(3636);function f(){"use strict";f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function d(){}function h(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,a,c,u){var l=s(t[i],t,a);if("throw"!==l.type){var f=l.arg,p=f.value;return p&&"object"==o(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(p).then((function(t){f.value=t,c(f)}),(function(t){return n("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y,u(b,"constructor",y),u(y,"constructor",h),h.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),u(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function p(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g=(0,i.createContext)();e.PaymentMethodDataProvider=function(t){var e=t.children,r=t.container,o=t.onSubmit,d=t.getData,y=t.isExpress,m=void 0===y?null:y,b=t.setExpressPaymentError,w=v((0,i.useState)(),2),O=w[0],E=w[1],_=v((0,i.useState)({}),2),S=_[0],P=_[1],j=v((0,i.useReducer)(u.actionReducer,{}),2),x=j[0],k=j[1],L=(0,u.useActionEmitter)(k).onPaymentDataFilter,A=(0,i.useRef)(x),C=(0,i.useRef)({onSubmit:o}),D=v((0,s.useNoticeHandler)({isExpress:m,setExpressPaymentError:b}),3),N=D[0],T=D[1],M=D[2],I=(0,a.useSelect)((function(t){var e=t(c.STORE_KEY);return{fastlane:e.getFastlane(),paymentToken:e.getPaymentToken(),customerFound:e.isCustomerFound()}})),F=I.fastlane,R=I.paymentToken,G=I.customerFound,U=(0,i.useCallback)((function(t){P((function(e){return h(h({},e),t)}))}),[]),Y=(0,i.useCallback)((function(t){U({nonce:t})}),[U]),B=(0,i.useCallback)(function(){var t,e=(t=f().mark((function t(e,r){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.emittFilter)(e,r,{handlers:A.current,type:"payment_data_filter"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){p(i,n,o,a,c,"next",t)}function c(t){p(i,n,o,a,c,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}(),[]);(0,i.useEffect)((function(){A.current=x}),[x]),(0,i.useEffect)((function(){l.loadClient.then((function(t){return E(t)})).catch((function(t){T(t)}))}),[T]),(0,i.useEffect)((function(){C.current={onSubmit:o}}),[o]),(0,i.useEffect)((function(){null!=S&&S.nonce&&C.current.onSubmit()}),[S]);var H={container:r,client:O,paymentMethodData:S,setPaymentMethodData:U,setPaymentMethodNonce:Y,onPaymentDataFilter:L,doPaymentDataFilter:B,onSubmit:o,notice:{notice:N,addNotice:T,removeNotice:M},fraud:{enabled:d("advancedFraudEnabled")},threeDSecureEnabled:d("threeDSecureEnabled"),fastlane:{fastlane:F,paymentToken:R,customerFound:G}};return n.createElement(g.Provider,{value:H},e)},e.usePaymentMethodDataContext=function(){return(0,i.useContext)(g)}},1926:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CustomForm=void 0;var o,i=r(9307),a=r(5736),c=r(2934),u=(o=r(4184))&&o.__esModule?o:{default:o},l=r(4427),s=r(3636);r(4824);var f=r(89);function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g=function(t){var e=t.options,r=t.client,o=t.id,a=(0,f.usePaymentMethodDataContext)().onPaymentDataFilter,u=(0,l.getCustomFormConfig)(o),p=u.breakpoint,m=void 0===p?0:p,g=u.fields,O=void 0===g?[]:g,E=u.content,_=void 0===E?null:E,S=u.className,P=void 0===S?"":S,j=y((0,i.useState)(!1),2),x=j[0],k=j[1],L=y((0,i.useState)({}),2),A=L[0],C=L[1],D=y((0,i.useState)(),2),N=D[0],T=D[1],M=y((0,i.useState)(null),2),I=M[0],F=M[1],R=(0,i.useRef)([]),G=(0,i.useRef)({fields:A}),U=(0,i.useCallback)((function(t){return 0==O.reduce((function(e,r){return t.hasOwnProperty(r)||e.push(r),e}),[]).length}),[]),Y=(0,i.useCallback)((function(t){return function(r){var n,o=G.current.fields;if((null==o||null===(n=o[t])||void 0===n||!n.container)&&null!==r){var i=d({container:r},e.fields[t]);C((function(e){return d(d({},e),{},h({},t,i))}))}}}),[]),B=(0,i.useCallback)((function(t,e){t.forEach((function(t){var r;null==A||null===(r=A[t])||void 0===r||r.container.classList.add(e)}))}),[A]);return(0,i.useEffect)((function(){var t=a((function(t,e){var r=e.nonceKey,n=e.billing;return new Promise((function(e,o){var i,a,c=G.current.hostedFieldInstance,u={billingAddress:{}};null!=n&&null!==(i=n.billingAddress)&&void 0!==i&&i.address_1&&(u.billingAddress.streetAddress=n.billingAddress.address_1),null!=n&&null!==(a=n.billingAddress)&&void 0!==a&&a.postcode&&(u.billingAddress.postalCode=n.billingAddress.postcode),c.tokenize(u,(function(n,i){var a;n?("HOSTED_FIELDS_FIELDS_INVALID"===n.code?B((null==n||null===(a=n.details)||void 0===a?void 0:a.invalidFieldKeys)||[],"braintree-hosted-fields-invalid"):"HOSTED_FIELDS_FIELDS_EMPTY"===n.code&&B(O,"braintree-hosted-fields-invalid"),o(n)):(t.meta.paymentMethodData[r]=i.nonce,e(d(d({},t),i)))}))}))}));return t}),[a]),(0,i.useEffect)((function(){G.current={fields:A}}),[A]),(0,s.useBreakpointWidth)({key:o,el:N,className:P,breakpoint:m}),(0,i.useEffect)((function(){U(A)&&r.then((function(t){(0,c.create)({client:t,fields:A,styles:e.styles}).then((function(t){G.current.hostedFieldInstance=t,k(t)})).catch((function(t){}))}))}),[A]),(0,i.useEffect)((function(){x&&(x.on("cardTypeChange",(function(t){var e;1==(null==t||null===(e=t.cards)||void 0===e?void 0:e.length)?F(t.cards[0].type):F(null)})),x.on("validityChange",(function(t){if(t.fields[t.emittedBy].isValid){var e,r=R.current.indexOf(t.emittedBy);if(null!==(e=R.current)&&void 0!==e&&e[r+1]){var n=R.current[r+1];x.focus(n)}}})))}),[x]),_?n.createElement("div",{ref:T,className:"wc-braintree-blocks-custom__form"},(0,i.cloneElement)(_,{setFieldContainer:Y,setFieldOrder:function(t){R.current.includes(t)||R.current.push(t)},CardIcon:n.createElement(w,{type:I,src:function(t){var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=v(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(e.icons);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.type===t)return o.src}}catch(t){n.e(t)}finally{n.f()}return null}(I)})})):n.createElement(b,{id:o})};e.CustomForm=g;var b=function(t){var e=t.id;return n.createElement("div",{className:"wc-braintree-blocks-notice__info"},(0,a.sprintf)((0,a.__)("%s is not a supported custom form.","woo-payment-gateway"),e))},w=function(t){var e=t.type,r=t.src;if(!e)return null;var o=(0,u.default)("wc-braintree-blocks-current-card__icon",e);return n.createElement("img",{className:o,src:r})},O=g;e.default=O},4427:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.registerCustomForm=e.getCustomFormConfig=void 0;var r={};e.registerCustomForm=function(t){o(t),r[t.id]=t},e.getCustomFormConfig=function(t){return n(t)?r[t]:{}};var n=function(t){return r.hasOwnProperty(t)},o=function(t){if(!t.id)throw new Error("Custom forms must have a unique ID.");i(t,["content","breakpoint"])},i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.reduce((function(e,r){return t.hasOwnProperty(r)||e.push(r),e}),[]);if(r.length>0)throw new TypeError("Custom form config missing params ".concat(r.join(", ")))}},9587:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BootstrapForm=void 0;var o=r(5736),i=r(638);function a(){return a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a.apply(this,arguments)}r(7884);var c=function(t){return n.createElement("div",{className:"wc-braintree-blocks-bootstrap__form"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"form-group cardnumber-form-group"},n.createElement("label",null,(0,o.__)("Card Number","woo-payment-gateway")),n.createElement(i.CardNumber,a({className:"bootstrap-input"},t)))),n.createElement("div",{className:"col-md-3"},n.createElement("div",{className:"form-group"},n.createElement("label",null,(0,o.__)("Exp Date","woo-payment-gateway")),n.createElement(i.CardExpirationDate,a({className:"bootstrap-input"},t)))),n.createElement("div",{className:"col-md-3"},n.createElement("div",{className:"form-group"},n.createElement("label",null,(0,o.__)("CVV","woo-payment-gateway")),n.createElement(i.CardCVV,a({className:"bootstrap-input"},t))))))};e.BootstrapForm=c;var u=c;e.default=u},4824:function(t,e,r){var n=r(9307),o=r(4427),i=c(r(9587)),a=c(r(721));function c(t){return t&&t.__esModule?t:{default:t}}(0,o.registerCustomForm)({id:"bootstrap_form",content:n.createElement(i.default,null),breakpoint:425,fields:["number","expirationDate","cvv"],className:"bootstrap-md"}),(0,o.registerCustomForm)({id:"simple_form",content:n.createElement(a.default,null),breakpoint:425,fields:["number","expirationDate","cvv"],className:"simple-form-md"})},721:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SimpleForm=void 0;var o=r(5736),i=r(638);function a(){return a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a.apply(this,arguments)}r(2210);var c=function(t){return n.createElement("div",{className:"wc-braintree-blocks-simple__form"},n.createElement("div",{className:"form-group"},n.createElement("label",null,(0,o.__)("Card Number","woo-payment-gateway")),n.createElement(i.CardNumber,a({className:"hosted-field braintree-card-number"},t))),n.createElement("div",{className:"form-group"},n.createElement("label",null,(0,o.__)("Exp Date","woo-payment-gateway")),n.createElement(i.CardExpirationDate,a({className:"hosted-field"},t))),n.createElement("div",{className:"form-group"},n.createElement("label",null,(0,o.__)("CVV","woo-payment-gateway")),n.createElement(i.CardCVV,a({className:"hosted-field"},t))))};e.SimpleForm=c;var u=c;e.default=u},5982:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.DropinForm=void 0;var o=r(9307),i=r(7313);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u=function(t){var e=t.options,r=t.setDropinInstance,c=e.clientToken,u=e.locale,l=void 0===u?"en_US":u,s=a((0,o.useState)(null),2),f=s[0],p=s[1],d=a((0,o.useState)(null),2),h=d[0],y=d[1],v=(0,o.useCallback)((function(t){t&&y(t)}));return(0,o.useEffect)((function(){h&&(0,i.create)({authorization:c,container:h,locale:l},(function(t,e){t?p(null==t?void 0:t.message):r(e)}))}),[h]),n.createElement(n.Fragment,null,f&&n.createElement("div",{className:"wc-braintree-blocks__error"},f),n.createElement("div",{ref:v,className:"wc-braintree-blocks-dropin__form"}))};e.DropinForm=u;var l=u;e.default=l},2543:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.src;return n.createElement("div",{style:{display:"flex",justifyContent:"center"}},n.createElement("img",{src:e,style:{width:"100%",maxWidth:"400px",objectFit:"contain"}}))}},8660:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CardCVV=void 0;var o,i=(o=r(4184))&&o.__esModule?o:{default:o},a=function(t){var e=t.setFieldContainer,r=t.setFieldOrder,o=t.className;r("cvv");var a=(0,i.default)("braintree-web-hosted-field",o);return n.createElement("div",{ref:e("cvv"),id:"braintree-cvv",className:a})};e.CardCVV=a;var c=a;e.default=c},3908:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CardExpirationDate=void 0;var o,i=(o=r(4184))&&o.__esModule?o:{default:o},a=function(t){var e=t.setFieldContainer,r=t.setFieldOrder,o=t.className;r("expirationDate");var a=(0,i.default)("braintree-web-hosted-field",o);return n.createElement("div",{ref:e("expirationDate"),id:"braintree-exp-date",className:a})};e.CardExpirationDate=a;var c=a;e.default=c},436:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CardNumber=void 0,r(9307);var o,i=(o=r(4184))&&o.__esModule?o:{default:o},a=function(t){t.onChange;var e=t.setFieldContainer,r=t.setFieldOrder,o=t.className,a=t.CardIcon;r("number");var c=(0,i.default)("braintree-web-hosted-field",o);return n.createElement("div",{ref:e("number"),id:"braintree-number",className:c},a)};e.CardNumber=a;var c=a;e.default=c},638:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(436);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var o=r(3908);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}));var i=r(8660);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===i[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))}))},627:function(t,e,r){var n=r(9307),o=r(9307),i=r(4613),a=r(4617),c=r(9818),u=g(r(4184)),l=r(5736),s=r(878),f=r(9154),p=r(6723),d=g(r(5982)),h=g(r(1926)),y=r(89),v=g(r(6429)),m=g(r(2543));function g(t){return t&&t.__esModule?t:{default:t}}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(){return E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E.apply(this,arguments)}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var S=(0,f.getSettings)("braintree_cc"),P=(0,a.getSetting)("braintree_cc_data"),j=function(t){var e={fields:S("hostedFieldsOptions"),styles:S("hostedFieldsStyles"),icons:S("icons")};return n.createElement(h.default,E({options:e,client:f.loadClient,id:S("customForm")},t))},x=function(){var t=(0,y.usePaymentMethodDataContext)().onPaymentDataFilter,e=(0,o.useRef)({dropinInstance:null}),r=(0,o.useCallback)((function(t){e.current=w(w({},e.current),{},{dropinInstance:t})}),[]);(0,o.useEffect)((function(){return t((function(t,r){var n=r.nonceKey;return new Promise((function(r,o){e.current.dropinInstance.requestPaymentMethod((function(e,i){e?o(e):(t.meta.paymentMethodData[n]=i.nonce,r(w(w({},t),i)))}))}))}),1)}),[t]);var i={clientToken:(0,f.getClientToken)(),locale:"en_US"};return n.createElement(d.default,{options:i,setDropinInstance:r})};(0,i.registerPaymentMethod)({name:S("name"),gatewayId:S("name"),label:n.createElement(p.PaymentMethodLabel,{title:S("title"),paymentMethod:S("name"),icon:S("icon")}),ariaLabel:(0,l.__)("Credit Cards","woo-payment-gateway"),canMakePayment:function(){return!0},content:n.createElement(p.PaymentMethod,{content:function(t){var e,r,i=(e=(0,o.useState)(!1),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,r)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],l=i[1],f=t.billing,d=t.shippingData,h=f.billingAddress.email,m=(0,y.usePaymentMethodDataContext)(),g=m.notice,b=m.fastlane,w=b.fastlane,O=b.paymentToken,k=b.customerFound,L=(0,c.useDispatch)(s.STORE_KEY).setPaymentToken,A=(0,c.useSelect)((function(t){return{emails:t(s.STORE_KEY).getCanceledEmails()}})).emails,C=P.showSignup&&!A.includes(h),D=S("dropinEnabled"),N=D?x:j,T=(0,u.default)("wc-braintree-card-container",{dropin:D,customForm:!D}),M=(0,o.useCallback)((function(t){L(t)}),[]);return O?n.createElement(v.default,E({data:P,token:O,fastlane:w,customerFound:k},t)):n.createElement(n.Fragment,null,C&&n.createElement(p.FastlaneLink,{logo:P.fastLaneLogo,text:P.i18n.fastlane_signup,onClick:function(){return l(!0)}}),(null==g?void 0:g.notice)&&n.createElement(p.Notice,{notice:g.notice,onRemove:g.removeNotice}),n.createElement("div",{className:T},n.createElement(N,null)),n.createElement(p.FastlaneModal,{i18n:P.i18n,open:a,onClose:function(){return l(!1)},fastlane:w,onTokenize:M,shippingData:d}))},title:S("title"),description:S("description"),name:S("name"),gatewayId:S("name"),icon:S("icon"),getData:S}),savedTokenComponent:n.createElement(p.SavedTokenProvider,{getData:S,name:S("name"),gatewayId:S("name"),vaultedThreeDSecure:S("vaultedThreeDSecure")}),edit:n.createElement(m.default,{src:S("editor").icon}),supports:{showSavedCards:S("features").includes("tokenization"),showSaveOption:(0,f.canShowSavedCard)(),features:S("features")}})},6429:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.data,r=t.token,o=t.fastlane,s=t.customerFound,p=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,l),h=(0,u.usePaymentMethodDataContext)().onPaymentDataFilter,y=e.i18n,v=e.fastlane_icons,m=e.payment_format,g=p.emitResponse,b=p.shouldSavePayment,w=g.responseTypes,O=r.paymentSource.card;O=f(f({},O),{},{brand:O.brand,last4:O.lastDigits,expiry:O.expiry}),(0,c.useProcessFastlanePaymentToken)({token:r,responseTypes:w,shouldSavePayment:b,onPaymentDataFilter:h});var E=(0,c.useManageFastlanePaymentToken)({fastlane:o}),_=E.onCancel,S=E.onChangePaymentMethod;return n.createElement("div",{className:(0,i.default)("wc-ppcp-tokenized-card",{"has-customer-context":s})},n.createElement(d,{icons:v,brand:O.brand.toLowerCase()}),n.createElement("div",{className:"wc-ppcp-tokenized-card-format"},(0,a.formatPaymentMethod)(m,O)),n.createElement("div",{className:"wc-ppcp-tokenized-card-actions"},n.createElement("a",{className:"wc-ppcp-tokenized-card-cancel",onClick:_},y.cancel),s&&n.createElement("a",{className:"wc-ppcp-tokenized-card-change",onClick:S},y.change)))};var o,i=(o=r(4184))&&o.__esModule?o:{default:o},a=r(9154),c=r(3636),u=r(89),l=["data","token","fastlane","customerFound"];function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(t){var e=t.icons,r=t.brand,o="";return e[r]&&(o=e[r]),n.createElement("div",{className:"wc-ppcp-tokenized-card-icon-container"},n.createElement("img",{src:o}))}},2784:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.Block=void 0;var o=r(9307),i=r(9818),a=r(4801),c=(r(4617),r(6483)),u=r(7495),l=r(3636),s=r(89),f=r(9154);function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y=function(t){var e,r,n=t.extensions,s=(0,o.useRef)(!0),y=(0,o.useRef)({}),v=n.wc_braintree.fastlane,m=(0,i.useSelect)((function(t){var e=t(a.CART_STORE_KEY);return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({needsShipping:e.getNeedsShipping()},e.getCustomerData())})),g=m.needsShipping,b=m.billingAddress,w=(0,i.useDispatch)(a.CART_STORE_KEY).setShippingAddress,O=b.email,E=(e=(0,o.useState)(O),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,r)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=E[0],S=E[1],P=(0,l.useDeviceData)({skip:!0}),j=(0,u.useCreateFastlane)({clientToken:(0,f.getClientToken)(),fraudEnabled:v.fraud.enabled,dataCollector:P}),x=(0,o.useCallback)((function(){}),[]),k=(0,o.useMemo)((function(){return{needsShipping:g,setShippingAddress:w}}),[g,w]),L=(0,u.useProcessFastlane)({i18n:v.i18n,email:O,onError:x,fastlane:j,shippingData:k,openFastlaneModal:null}),A=L.emails,C=L.isCustomerFound,D=L.triggerAuthentication;return(0,o.useEffect)((function(){y.current={emails:A,fastlane:j,isCustomerFound:C}}),[A,j,C]),(0,o.useEffect)((function(){var t=setTimeout((function(){S(O)}),500);return function(){return clearTimeout(t)}}),[O]),(0,o.useEffect)((function(){var t=y.current,e=t.emails,r=t.isCustomerFound;if(!e.includes(_)&&!r&&j&&D&&(0,c.isEmail)(_))return s.current?(s.current=!1,void(v.fastlane_pageload&&D(_,!1))):void D(_,!1)}),[j,_,D]),(0,o.useEffect)((function(){var t=y.current.fastlane;if(t){var e=document.getElementById("email");if(e){var r=document.getElementById("wc-ppcp-watermark-container");if(r)return;(r=document.createElement("div")).id="wc-ppcp-watermark-container",t.FastlaneWatermarkComponent({includeAdditionalInfo:!0}).then((function(t){e.parentElement.append(r),t.render("#wc-ppcp-watermark-container")}))}}})),null};e.Block=function(t){var e,r=(0,f.getSettings)("braintree_cc"),o=t.extensions;return null!=o&&null!==(e=o.wc_braintree)&&void 0!==e&&e.fastlane?n.createElement(s.PaymentMethodDataProvider,{getData:r},n.createElement(y,t)):null}},4424:function(t,e,r){var n,o=r(3554),i=(n=r(8291))&&n.__esModule?n:{default:n},a=r(2784);(0,o.registerCheckoutBlock)({metadata:i.default,component:a.Block})},7236:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,r=t.getData,d=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,f),h=d.billing,y=d.shippingData,v=d.setExpressPaymentError,m=h.billingAddress.email,g=r("fastlane_pageload"),b=(0,o.useRef)(!0),w=(2,function(t){if(Array.isArray(t))return t}(e=(0,o.useState)(!1))||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),2!==i.length);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e)||function(t,e){if(t){if("string"==typeof t)return p(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),O=w[0],E=w[1],_=(0,o.useRef)(null),S=(0,o.useRef)(null),P=(0,l.usePaymentMethodDataContext)().fraud,j=(0,u.useDeviceData)({skip:!0}),x=(0,o.useCallback)((function(){return S.current=new Promise((function(t){_.current=t})),E(!0),S.current}),[]),k=(0,o.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];E(!1),t||_.current(null)}),[]),L=(0,o.useCallback)((function(t){_.current(t)}),[]),A=(0,a.useCreateFastlane)({clientToken:(0,s.getClientToken)(),fraudEnabled:P.enabled,dataCollector:j}),C=(0,a.useProcessFastlane)({i18n:r("i18n"),email:m,onError:v,fastlane:A,shippingData:y,openFastlaneModal:x}),D=C.onClick,N=C.processing,T=C.triggerAuthentication;return(0,o.useEffect)((function(){if(A&&T&&(0,i.isEmail)(m))return g&&b.current?(b.current=!1,void T(m,!1)):void 0}),[m,A,T]),n.createElement(n.Fragment,null,n.createElement("button",{id:"wc-ppcp-fastlane-checkout",className:"wc-ppcp-fastlane-button",disabled:O||N,onClick:D},n.createElement("img",{className:"wc-ppcp-fastlane-icon",src:r("icon_url")})),n.createElement(c.FastlaneModal,{i18n:r("i18n"),open:O,onClose:k,fastlane:A,onTokenize:L,shippingData:y}))};var o=r(9307),i=r(6483),a=r(7495),c=r(6723),u=r(3636),l=r(89),s=r(9154),f=["getData"];function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},7495:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(5550);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var o=r(298);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}))},5550:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.useCreateFastlane=void 0;var n=r(9307),o=r(9818),i=r(3484),a=r(878);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}e.useCreateFastlane=function(t){var e=t.clientToken,r=t.fraudEnabled,l=t.dataCollector,s=(0,o.useSelect)((function(t){return t(a.STORE_KEY).getFastlane()})),f=(0,o.useDispatch)(a.STORE_KEY).setFastlane;return(0,n.useEffect)((function(){(0,i.create)(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({authorization:e},l&&{deviceData:l.deviceData})).then((function(t){f(t)}))}),[r,l]),(0,n.useEffect)((function(){f(s)}),[]),s}},298:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.useProcessFastlane=void 0;var o=r(9307),i=r(6483),a=r(4801),c=r(878),u=r(9818),l=r(9154);function s(){"use strict";s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function d(){}function h(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function o(i,a,c,u){var l=f(t[i],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==n(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y,u(b,"constructor",y),u(y,"constructor",h),h.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),u(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function f(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function p(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){f(i,n,o,a,c,"next",t)}function c(t){f(i,n,o,a,c,"throw",t)}a(void 0)}))}}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.useProcessFastlane=function(t){var e=t.i18n,r=t.email,n=t.onError,f=t.fastlane,d=t.buttonRef,y=t.shippingData,m=t.openFastlaneModal,g=v((0,o.useState)(!1),2),b=g[0],w=g[1],O=(0,o.useRef)({email:r,fastlane:f,buttonRef:d,onError:n,shippingData:y}),E=(0,u.useSelect)((function(t){var e=t(c.STORE_KEY);return{emails:e.getCanceledEmails(),isCustomerFound:e.isCustomerFound()}})),_=E.emails,S=E.isCustomerFound,P=(0,u.useDispatch)(a.CART_STORE_KEY).setBillingAddress,j=(0,u.useDispatch)(c.STORE_KEY),x=j.setPaymentToken,k=j.addCanceledEmail,L=j.setCustomerContextId,A=(0,u.useDispatch)(a.PAYMENT_STORE_KEY).__internalSetActivePaymentMethod;(0,o.useEffect)((function(){O.current=h(h({},O.current),{},{email:r,onError:n,fastlane:f,buttonRef:d,shippingData:y})}),[r,n,f,d,y]);var C=function(t){return Object.fromEntries(Object.entries(t).filter((function(t){var e=v(t,2),r=(e[0],e[1]);return null!=r&&""!==r})))},D=(0,o.useCallback)((function(t){(0,O.current.shippingData.setShippingAddress)(C({first_name:(null==t?void 0:t.firstName)||"",last_name:null==t?void 0:t.lastName,address_1:null==t?void 0:t.streetAddress,address_2:null==t?void 0:t.extendedAddress,city:(null==t?void 0:t.locality)||"",state:(null==t?void 0:t.region)||"",postcode:(null==t?void 0:t.postalCode)||"",country:(null==t?void 0:t.countryCodeAlpha2)||"",phone:(null==t?void 0:t.phoneNumber)||""}))}),[]),N=(0,o.useCallback)((function(t){P(C({first_name:(null==t?void 0:t.firstName)||"",last_name:null==t?void 0:t.lastName,address_1:null==t?void 0:t.streetAddress,address_2:null==t?void 0:t.extendedAddress,city:(null==t?void 0:t.locality)||"",state:(null==t?void 0:t.region)||"",postcode:(null==t?void 0:t.postalCode)||"",country:(null==t?void 0:t.countryCodeAlpha2)||"",phone:(null==t?void 0:t.phoneNumber)||""}))}),[P]),T=(0,o.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=document.querySelector(t);if(r){var n=r.getBoundingClientRect(),o=n.top+window.scrollY-e;window.scrollTo({behavior:"smooth",left:0,top:o})}}),[]),M=(0,o.useCallback)(function(){var t=p(s().mark((function t(e){var r,n,o,i,a,c,u,f,p,d,y,v,g,b,E,_,S,P,j,C,M,I,F,R,G,U=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(U.length>1&&void 0!==U[1])||U[1],n=O.current,o=n.fastlane,i=n.shippingData,a=i.needsShipping,c=o.profile,u=o.identity,t.prev=4,w(!0),t.next=8,u.lookupCustomerByEmail(e);case 8:if(f=t.sent,!(p=f.customerContextId)){t.next=41;break}return t.next=13,u.triggerAuthenticationFlow(p);case 13:if(d=t.sent,y=d.profileData,"canceled"!==(v=d.authenticationState)){t.next=21;break}k(e),L(null),t.next=39;break;case 21:if("succeeded"!==v){t.next=39;break}if(E=y.name,_=y.card,S=y.shippingAddress,L(p),!a){t.next=35;break}return t.next=27,c.showShippingAddressSelector();case 27:if(P=t.sent,j=P.selectedAddress){t.next=33;break}return k(e),L(null),t.abrupt("return");case 33:D(S=j);case 35:null!=_&&null!==(g=_.paymentSource)&&void 0!==g&&null!==(b=g.card)&&void 0!==b&&b.billingAddress&&N(h(h(h({},E),_.paymentSource.card.billingAddress),{},{phoneNumber:(null===(C=S)||void 0===C?void 0:C.phoneNumber)||null})),x(_),A("braintree_cc"),T("#radio-control-wc-payment-method-options-braintree_cc");case 39:t.next=47;break;case 41:if(!r){t.next=47;break}return L(null),t.next=45,m();case 45:(M=t.sent)&&(null!=M&&null!==(I=M.paymentSource)&&void 0!==I&&null!==(F=I.card)&&void 0!==F&&F.billingAddress&&(R=M.paymentSource.card.billingAddress,M.paymentSource.card.billingAddress.toBtSdkType?R=M.paymentSource.card.billingAddress.toBtSdkType():(G=(0,l.extractFullName)(M.paymentSource.card.name),R=h({firstName:G[0],lastName:G[1]},R),D(R)),N(R)),x(M),A("braintree_cc"),T("#radio-control-wc-payment-method-options-braintree_cc"));case 47:t.next=52;break;case 49:t.prev=49,t.t0=t.catch(4),console.info(t.t0);case 52:return t.prev=52,w(!1),t.finish(52);case 55:case"end":return t.stop()}}),t,null,[[4,49,52,55]])})));return function(e){return t.apply(this,arguments)}}(),[T,m,N,D]),I=(0,o.useCallback)(function(){var t=p(s().mark((function t(r){var n,o,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=O.current,o=n.email,a=n.onError,o){t.next=4;break}return t.abrupt("return",a(e.email_empty));case 4:if((0,i.isEmail)(o)){t.next=6;break}return t.abrupt("return",a(e.email_invalid));case 6:return t.next=8,M(o);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[T,N,D,M]);return{emails:_,onClick:I,processing:b,isCustomerFound:S,triggerAuthentication:M}}},6399:function(t,e,r){var n=r(9307);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var i,a=r(4613),c=r(4617),u=(i=r(7236))&&i.__esModule?i:{default:i},l=r(6723),s=r(9154);function f(){"use strict";f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function d(){}function h(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,a,c,u){var l=s(t[i],t,a);if("throw"!==l.type){var f=l.arg,p=f.value;return p&&"object"==o(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(p).then((function(t){f.value=t,c(f)}),(function(t){return n("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y,u(b,"constructor",y),u(y,"constructor",h),h.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),u(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function p(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var d,h,y=(0,s.getSettings)("braintree_fastlane"),v=(0,c.getSetting)("braintree_fastlane_data");(0,a.registerExpressPaymentMethod)({name:"braintree_fastlane",canMakePayment:(d=f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.isCheckoutPage)());case 1:case"end":return t.stop()}}),t)})),h=function(){var t=this,e=arguments;return new Promise((function(r,n){var o=d.apply(t,e);function i(t){p(o,r,n,i,a,"next",t)}function a(t){p(o,r,n,i,a,"throw",t)}i(void 0)}))},function(){return h.apply(this,arguments)}),content:n.createElement(l.PaymentMethod,{content:u.default,getData:y}),edit:n.createElement(l.PaymentMethod,{content:u.default,getData:y}),supports:{features:v.features}})},6066:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.getShippingOptions=e.getSelectedShippingOptionId=e.getDisplayItems=void 0;var n=r(9154);function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.getDisplayItems=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=[],o=["total_tax","total_shipping"];return t.forEach((function(t){(0<t.value||t.key&&o.includes(t.key))&&r.push({label:t.label,type:"LINE_ITEM",price:(0,n.removeNumberPrecision)(t.value,e).toString()})})),r},e.getShippingOptions=function(t){var e=[];return t.forEach((function(t,r){var i=t.shipping_rates.map((function(t){var e=document.createElement("textarea");e.innerHTML=t.name;var o=(0,n.formatPrice)(t.price,t.currency_code);return{id:(0,n.getShippingOptionId)(r,t.rate_id),label:e.value,description:"".concat(o)}}));e=[].concat(o(e),o(i))})),e},e.getSelectedShippingOptionId=function(t){var e="";return t.forEach((function(t,r){t.shipping_rates.forEach((function(t){t.selected&&(e=(0,n.getShippingOptionId)(r,t.rate_id))}))})),e}},5516:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(326);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var o=r(6874);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}))},326:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.useCreatePaymentsClient=void 0;var n=r(9307),o=u(r(6989)),i=u(r(1417)),a=r(3636),c=r(9154);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.useCreatePaymentsClient=function(t){var e,r,u=t.getData,l=t.shippingData,f=t.billing,h=t.eventRegistration,y=l.needsShipping,v=(e=(0,n.useState)(null),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,r)||p(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=v[0],g=v[1],b=(0,a.usePaymentEventsHandler)({billing:f,shippingData:l,eventRegistration:h}).addShippingHandler,w=(0,n.useRef)({billing:f,shippingData:l});return(0,n.useEffect)((function(){w.current={billing:f,shippingData:l}}),[f,l]),(0,n.useEffect)((function(){var t={environment:u("googleEnvironment"),merchantInfo:{merchantName:u("merchantName"),merchantId:u("googleMerchantId")},paymentDataCallbacks:{onPaymentAuthorized:function(){return Promise.resolve({transactionState:"SUCCESS"})}}};y&&(t.paymentDataCallbacks.onPaymentDataChanged=function(t){return new Promise((function(e,r){var n=t.shippingAddress,i=t.shippingOptionData,a=w.current.shippingData,l=null==i?void 0:i.id,f={city:(null==n?void 0:n.locality)||"",state:(null==n?void 0:n.administrativeArea)||"",postcode:(null==n?void 0:n.postalCode)||"",country:(null==n?void 0:n.countryCode)||""};(0,o.default)({method:"POST",url:u("routes").shipping,data:{payment_method:"braintree_googlepay",address:f,shipping_method:l}}).then((function(t){t.code?(l=null,e(t.data.braintree_googlepay)):e(t.data.braintree_googlepay.requestUpdate)})).catch((function(t){e(t.data.braintree_googlepay)})).finally((function(){a.setShippingAddress(s(s({},a.shippingAddress),f)),l&&"shipping_option_unselected"!==l&&a.setSelectedRates.apply(a,function(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,c.extractSelectedShippingOption)(l)))}))}))}),g(new i.default.payments.api.PaymentsClient(t))}),[y,b]),m}},6874:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.useHandleTokenization=e.default=void 0;var o=r(9307),i=r(6066),a=r(9154),c=r(89);function u(){"use strict";u=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function h(){}function y(){}var v={};l(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function o(i,a,c,u){var l=f(t[i],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==n(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y,l(b,"constructor",y),l(y,"constructor",h),h.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),l(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),l(b,c,"Generator"),l(b,i,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function f(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v=function(t){var e=t.getData,r=t.onClick,n=t.onClose,d=t.googlePayInstance,y=t.paymentsClient,v=t.billing,m=t.shippingData,g=(0,o.useRef)({billing:v,shippingData:m}),b=(0,o.useRef)({}),w=(0,c.usePaymentMethodDataContext)(),O=w.onSubmit,E=w.setPaymentMethodData,_=w.onPaymentDataFilter;(0,o.useEffect)((function(){g.current={billing:v,shippingData:m,onClick:r,onClose:n,onSubmit:O}}),[r,n,m,v,O]),(0,o.useEffect)((function(){var t=_((function(t,e){var r,n,o=e.nonceKey,i=e.billing,c=e.shippingData;return b.current.paymentMethodNonce&&(t.meta.paymentMethodData[o]=b.current.paymentMethodNonce),null!==(r=b.current)&&void 0!==r&&r.billingAddress&&(t.meta.billingAddress=h(h(h({},a.DEFAULT_BILLING_ADDRESS),b.current.billingAddress),{},{email:i.billingAddress.email}),b.current.email&&(t.meta.billingAddress.email=b.current.email)),null!==(n=b.current)&&void 0!==n&&n.shippingAddress&&(t.meta.shippingAddress=h(h(h({},a.DEFAULT_SHIPPING_ADDRESS),c.shippingAddress),b.current.shippingAddress)),t}));return function(){return t()}}),[_]);var S=(0,o.useCallback)((function(){var t=g.current,r=t.billing,n=t.shippingData,o=r.billingAddress,c=r.currency,h=r.cartTotal,v=r.cartTotalItems,m=n.needsShipping,w=n.shippingRates;g.current.onClick();var O,_={merchantInfo:{merchantName:e("googleMerchantName"),merchantId:e("googleMerchantId")},transactionInfo:{countryCode:e("countryCode"),currencyCode:c.code,totalPriceStatus:"FINAL",totalPrice:(0,a.removeNumberPrecision)(h.value,c.minorUnit).toString(),totalPriceLabel:e("totalPriceLabel"),displayItems:(0,i.getDisplayItems)(v,c.minorUnit)},emailRequired:!o.email,callbackIntents:["PAYMENT_AUTHORIZATION"],shippingAddressRequired:m};if(m){_.shippingAddressParameters={},_.shippingOptionRequired=!0,_.callbackIntents=[].concat(function(t){if(Array.isArray(t))return p(t)}(O=_.callbackIntents)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(O)||f(O)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["SHIPPING_ADDRESS","SHIPPING_OPTION"]);var S=(0,i.getShippingOptions)(w);S.length&&(_.shippingOptionParameters={shippingOptions:S,defaultSelectedOptionId:(0,i.getSelectedShippingOptionId)(w)})}var P=d.createPaymentDataRequest(_);P.allowedPaymentMethods[0].parameters.assuranceDetailsRequired=!0,P.allowedPaymentMethods[0].parameters.billingAddressRequired=!0,P.allowedPaymentMethods[0].parameters.billingAddressParameters={format:"FULL",phoneNumberRequired:!0},y.loadPaymentData(P).then(function(){var t,e=(t=u().mark((function t(e){var r,n,i,c,s,f,p,h,y,v,m,g,w,O,_;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null!=e&&null!==(r=e.paymentMethodData)&&void 0!==r&&null!==(n=r.info)&&void 0!==n&&n.billingAddress&&(i=e.paymentMethodData.info.billingAddress,c=(0,a.extractFullName)(i.name),s=l(c,2),f=s[0],p=s[1],b.current.billingAddress={first_name:f,last_name:p,address_1:i.address1,address_2:i.address2,city:i.locality,state:i.administrativeArea,postcode:i.postalCode,country:i.countryCode,phone:o.phone},i.phoneNumber&&!o.phone&&(b.current.billingAddress.phone=i.phoneNumber)),e.shippingAddress&&(v=e.shippingAddress,m=(0,a.extractFullName)(v.name),g=l(m,2),w=g[0],O=g[1],b.current.shippingAddress={first_name:w,last_name:O,address_1:v.address1,address_2:v.address2,city:v.locality,state:v.administrativeArea,postcode:v.postalCode,country:v.countryCode},null!==(h=b.current)&&void 0!==h&&null!==(y=h.billingAddress)&&void 0!==y&&y.phone&&(b.current.shippingAddress.phone=b.current.billingAddress.phone)),e.email&&(b.current.email=e.email),t.next=5,d.parseResponse(e);case 5:_=t.sent,b.current.paymentMethodNonce=_.nonce,E({nonce:_.nonce,details:{bin:_.details.bin}});case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){s(i,n,o,a,c,"next",t)}function c(t){s(i,n,o,a,c,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()).catch((function(t){"CANCELED"!==(null==t?void 0:t.statusCode)?console.log(t):g.current.onClose()}))}),[y,d,E]);return S};e.useHandleTokenization=v;var m=v;e.default=m},5341:function(t,e,r){var n=r(9307);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var i=r(9307),a=r(6388),c=r(4613),u=r(6723),l=r(9154),s=y(r(1417)),f=r(5516),p=r(89),d=r(3636),h=y(r(9636));function y(t){return t&&t.__esModule?t:{default:t}}function v(){"use strict";v=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var y={};u(y,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(y=g);var b=h.prototype=p.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,a,c,u){var l=s(t[i],t,a);if("throw"!==l.type){var f=l.arg,p=f.value;return p&&"object"==o(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(p).then((function(t){f.value=t,c(f)}),(function(t){return n("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=h,u(b,"constructor",h),u(h,"constructor",d),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),u(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function m(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var E,_,S=(0,l.getSettings)("braintree_googlepay"),P=null,j=new s.default.payments.api.PaymentsClient({environment:S("googleEnvironment"),merchantInfo:{merchantName:S("googleMerchantName"),merchantId:S("googleMerchantId")}});(0,c.registerExpressPaymentMethod)({name:"braintree_googlepay_express",gatewayId:"braintree_googlepay",paymentMethodId:"braintree_googlepay",canMakePayment:(E=v().mark((function t(){var e,r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,l.isCartPage)()||S("expressCartEnabled")){t.next=2;break}return t.abrupt("return",!1);case 2:if(!(0,l.isCheckoutPage)()||S("expressCheckoutEnabled")){t.next=4;break}return t.abrupt("return",!1);case 4:if(null===P){t.next=6;break}return t.abrupt("return",P);case 6:return t.prev=6,t.next=9,(0,a.create)({authorization:(0,l.getClientToken)(),googlePayVersion:2,googleMerchantId:S("googleMerchantId")});case 9:return e=t.sent,t.next=12,j.isReadyToPay({apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:e.createPaymentDataRequest().allowedPaymentMethods});case 12:return r=t.sent,P=!!r.result,t.abrupt("return",P);case 17:return t.prev=17,t.t0=t.catch(6),t.abrupt("return",t.t0);case 20:case"end":return t.stop()}}),t,null,[[6,17]])})),_=function(){var t=this,e=arguments;return new Promise((function(r,n){var o=E.apply(t,e);function i(t){m(o,r,n,i,a,"next",t)}function a(t){m(o,r,n,i,a,"throw",t)}i(void 0)}))},function(){return _.apply(this,arguments)}),content:n.createElement(u.PaymentMethod,{content:function(t){var e,r,o=t.getData,c=t.billing,u=t.shippingData,s=t.eventRegistration,h=t.onClick,y=t.onClose,v=(0,i.useRef)(null),m=(e=(0,i.useState)(null),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,r)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=m[0],w=m[1];(0,d.useExpressBreakpointWidth)({breakpoint:375});var E=(0,p.usePaymentMethodDataContext)().notice,_=(0,f.useCreatePaymentsClient)({getData:o,billing:c,shippingData:u,eventRegistration:s}),S=(0,f.useHandleTokenization)({getData:o,onClick:h,onClose:y,googlePayInstance:g,paymentsClient:_,billing:c,shippingData:u}),P=(0,i.useCallback)((function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}),[]);return(0,i.useEffect)((function(){(0,a.create)({authorization:(0,l.getClientToken)(),googlePayVersion:2,googleMerchantId:o("googleMerchantId")}).then((function(t){w(t)})).catch((function(t){return E.addNotice(t)}))}),[]),(0,i.useEffect)((function(){if(v.current&&_){P(v.current);var t,e,r,n,i=_.createButton(b(b({},o("buttonOptions")),{onClick:S}));"rect"===o("buttonShape")?null===(t=i.querySelector("button"))||void 0===t||null===(e=t.classList)||void 0===e||e.remove("new_style"):null===(r=i.querySelector("button"))||void 0===r||null===(n=r.classList)||void 0===n||n.add("gpay-button-round"),v.current.append(i)}}),[_,P,S]),n.createElement("div",{ref:v,className:"wc-braintree-blocks-gpay-button"})},title:S("title"),name:"braintree_googlepay_express",gatewayId:"braintree_googlepay",icon:S("icon"),getData:S,isExpress:!0}),edit:n.createElement(h.default,{src:S("editor").icon}),supports:{showSavedCards:S("features").includes("tokenization"),showSaveOption:!0,features:S("features")}})},9636:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.src;return n.createElement("div",{className:"gpay-block-editor",style:{maxHeight:"40px",backgroundColor:"#000",borderRadius:"4px"}},n.createElement("img",{src:e,style:{width:"100%",height:"40px",objectFit:"contain"}}))}},3636:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(9430);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var o=r(3201);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}));var i=r(180);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===i[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))}));var a=r(3380);Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===a[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))}));var c=r(5688);Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===c[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}}))}));var u=r(4825);Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===u[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))}));var l=r(5554);Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===l[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))}));var s=r(9558);Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===s[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))}));var f=r(995);Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===f[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}}))}))},5554:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.useExpressBreakpointWidth=e.useBreakpointWidth=void 0;var n=r(9307),o=r(9154),i=r(89);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u=function(t){var e=t.key,r=t.el,i=t.className,c=void 0===i?"":i,u=t.breakpoint,l=void 0===u?0:u,s=a((0,n.useState)(window.innerWidth),2),f=s[0],p=s[1];e="".concat(e,":breakpoint"),(0,n.useEffect)((function(){if(r){var t=(0,o.getFromCache)(e,0);(l<t||!t)&&(t=l,(0,o.storeInCache)(e,t)),r.clientWidth<t?r.classList.add(c):r.classList.remove(c)}}),[r,f]),(0,n.useEffect)((function(){var t=function(t){return p(window.innerWidth)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}))};e.useBreakpointWidth=u,e.useExpressBreakpointWidth=function(t){var e=t.breakpoint,r=t.className,o=void 0===r?"wc-braintree-blocks-express-sm":r,c=a((0,n.useState)(null),2),l=c[0],s=c[1],f=(0,i.usePaymentMethodDataContext)().container;(0,n.useEffect)((function(){var t;f&&s(null===(t=f.parentNode)||void 0===t?void 0:t.parentNode)}),[f]),u({key:"express",el:l,breakpoint:e,className:o})}},3380:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.useDeviceData=e.default=void 0;var n=r(9307),o=r(6771),i=r(89);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,i.usePaymentMethodDataContext)(),a=r.client,u=r.notice,s=r.onPaymentDataFilter,f=r.fraud,p=f.enabled,d=u.addNotice,h=(0,n.useState)(null),y=l(h,2),v=y[0],m=y[1];return(0,n.useEffect)((function(){p&&a&&(0,o.create)(c({client:a,kount:!0},t),(function(t,e){t?d(t):m(e)}))}),[p,a,d]),(0,n.useEffect)((function(){if(!e){var t=s((function(t,e){var r=e.gatewayId;return t.meta.paymentMethodData["".concat(r,"_device_data")]=null==v?void 0:v.deviceData,t}),10);return function(){return t()}}}),[e,v,s]),v};e.useDeviceData=f;var p=f;e.default=p},9558:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.useManageFastlanePaymentToken=void 0;var o=r(9307),i=r(9818),a=r(4801),c=r(878),u=r(9154);function l(){"use strict";l=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function h(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function o(i,a,c,u){var l=f(t[i],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==n(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y,u(b,"constructor",y),u(y,"constructor",h),h.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),u(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function y(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){h(i,n,o,a,c,"next",t)}function c(t){h(i,n,o,a,c,"throw",t)}a(void 0)}))}}r(4369),e.useManageFastlanePaymentToken=function(t){var e=t.fastlane,r=(0,i.useDispatch)(c.STORE_KEY),n=r.setPaymentToken,s=r.setCustomerContextId,p=(0,i.useDispatch)(a.CART_STORE_KEY).setBillingAddress,h=(0,i.useDispatch)("core/notices").createErrorNotice;return{onCancel:(0,o.useCallback)((function(){n(null),s(null)}),[]),onChangePaymentMethod:(0,o.useCallback)(y(l().mark((function t(){var r,o,i,a,c,s,y,v,m,g,b;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.profile.showCardSelector();case 3:r=t.sent,o=r.selectedCard,i=r.selectionChanged,o&&i&&(n(o),null!=o&&null!==(a=o.paymentSource)&&void 0!==a&&null!==(c=a.card)&&void 0!==c&&c.billingAddress&&(s=o.paymentSource.card.name,y=(0,u.extractFullName)(s),w=2,v=function(t){if(Array.isArray(t))return t}(l=y)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(l,w)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}(l,w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=v[0],g=v[1],b=f({firstName:m,lastName:g},o.paymentSource.card.billingAddress),p({first_name:b.firstName||"",last_name:b.lastName||"",address_1:(null==b?void 0:b.streetAddress)||"",address_2:(null==b?void 0:b.extendedAddress)||"",city:(null==b?void 0:b.locality)||"",state:(null==b?void 0:b.region)||"",postcode:(null==b?void 0:b.postalCode)||"",country:(null==b?void 0:b.countryCodeAlpha2)||""}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),h(t.t0.message,{id:"wc-ppcp-tokenize-error",context:"wc/checkout/payments"});case 12:case"end":return t.stop()}var l,w}),t,null,[[0,9]])}))),[e])}}},5688:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.useNoticeHandler=e.default=void 0;var n=r(9307),o=r(9154);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var a=function(t){var e,r,a=t.isExpress,c=t.setExpressPaymentError,u=(e=(0,n.useState)(null),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,r)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=u[0],s=u[1],f=(0,n.useCallback)((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a&&"error"==e?c((0,o.getErrorMessage)(t)):s({message:(0,o.getErrorMessage)(t),type:e,isDismissible:r})}),[s,a,c]);return[l,f,(0,n.useCallback)((function(){return s(null)}),[s])]};e.useNoticeHandler=a;var c=a;e.default=c},4825:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.usePaymentEventsHandler=void 0;var o=r(9307);function i(){"use strict";i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function h(){}function y(){}var v={};l(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,a)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function o(i,a,c,u){var l=f(t[i],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==n(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y,l(b,"constructor",y),l(y,"constructor",h),h.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),l(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),l(b,u,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function a(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){a(i,n,o,c,u,"next",t)}function u(t){a(i,n,o,c,u,"throw",t)}c(void 0)}))}}e.usePaymentEventsHandler=function(t){var e=t.billing,r=t.shippingData,n=t.eventRegistration,a=(0,o.useRef)({billing:e,shippingData:r}),u=n.onShippingRateSuccess,l=n.onShippingRateFail,s=n.onShippingRateSelectSuccess,f=(0,o.useRef)(new Map([["shippingHandler",[]],["shippingMethodHandler",[]],["shippingAddressHandler",[]]]));(0,o.useEffect)((function(){a.current={billing:e,shippingData:r}}));var p=(0,o.useCallback)(c(i().mark((function t(){var e,r,n,o,c,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=a.current,r=e.billing,n=e.shippingData,!((o=f.current.get("shippingHandler")).length>0)||n.isSelectingRate||n.shippingRatesLoading){t.next=10;break}i=n.shippingRates,c=i.map((function(t){return(null==t?void 0:t.shipping_rates.length)>0})).filter(Boolean).length>0;case 4:if(!o.length){t.next=10;break}return u=o.pop(),t.next=8,Promise.resolve(u(c,{billing:r,shippingData:n}));case 8:t.next=4;break;case 10:case"end":return t.stop()}var i}),t)}))),[]),d=(0,o.useCallback)((function(){for(var t=a.current,e=t.billing,r=t.shippingData,n=f.current.get("shippingHandler");n.length;)n.pop()(!1,{billing:e,shippingData:r})}),[]),h=(0,o.useCallback)((function(t){return function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=f.current.get(t);n.push(e),r&&p()}}),[p,f.current]),y=(0,o.useCallback)(h("shippingHandler"),[h]),v=(0,o.useCallback)(h("shippingMethodHandler"),[h]),m=(0,o.useCallback)(h("shippingAddressHandler"),[h]);return(0,o.useEffect)((function(){var t=u(p),e=s(p),r=l(d);return function(){t(),e(),r()}}),[u,s,l]),{addShippingHandler:y,addShippingMethodHandler:v,addShippingAddressHandler:m}}},995:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.useProcessFastlanePaymentToken=void 0;var o,i=r(9307),a=((o=r(6989))&&o.__esModule,r(9154));function c(){"use strict";c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function h(){}function y(){}var v={};l(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function o(i,a,c,u){var l=f(t[i],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==n(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y,l(b,"constructor",y),l(y,"constructor",h),h.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),l(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),l(b,u,"Generator"),l(b,i,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}e.useProcessFastlanePaymentToken=function(t){var e=t.token,r=t.responseTypes,n=t.shouldSavePayment,o=t.onPaymentDataFilter,u=(0,i.useRef)({token:e});(0,i.useEffect)((function(){u.current={token:e,responseTypes:r}}),[e,r]),(0,i.useEffect)((function(){var t=o(function(){var t,e=(t=c().mark((function t(e,r){var o,i,f,p,d;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.nonceKey,i=u.current,f=i.token,p=i.responseTypes,t.prev=2,t.abrupt("return",l(l({},e),{},{meta:l(l({},e.meta),{},{paymentMethodData:(d={},s(d,o,f.id),s(d,"braintree_cc_save_method",n),d)})}));case 6:return t.prev=6,t.t0=t.catch(2),t.abrupt("return",(0,a.ensureErrorResponse)(p,t.t0));case 9:case"end":return t.stop()}}),t,null,[[2,6]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){f(i,n,o,a,c,"next",t)}function c(t){f(i,n,o,a,c,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}(),5);return t}),[n,o])}},180:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.useProcessPaymentFailure=e.default=void 0;var n=r(9307),o=function(t){var e=t.event,r=t.onError,o=void 0===r?null:r,i=t.responseTypes,a=t.messageContext,c=void 0===a?null:a,u=t.paymentMethodId,l=t.activePaymentMethod;(0,n.useEffect)((function(){var t=e((function(t){var e,r;if(null!=t&&null!==(e=t.processingResponse)&&void 0!==e&&null!==(r=e.paymentDetails)&&void 0!==r&&r.braintreeErrorMessage){var n=t.processingResponse.paymentDetails.braintreeErrorMessage;return{type:i.ERROR,message:n,messageContext:c}}return o&&l===u&&o(""),null}));return function(){return t()}}),[e,o,u,l])};e.useProcessPaymentFailure=o;var i=o;e.default=i},9430:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.useProcessPayment=e.default=void 0;var o=r(9307),i=r(9154),a=r(3201),c=r(3380),u=r(89);function l(){"use strict";l=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function h(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function o(i,a,c,u){var l=f(t[i],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==n(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y,u(b,"constructor",y),u(y,"constructor",h),h.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),u(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){d(i,n,o,a,c,"next",t)}function c(t){d(i,n,o,a,c,"throw",t)}a(void 0)}))}}var y=function(t){var e=t.name,r=t.billing,n=t.gatewayId,s=t.useFastlane,d=void 0!==s&&s,y=t.shippingData,v=t.responseTypes,m=t.onPaymentSetup,g=t.activePaymentMethod,b=t.advancedFraudOptions,w=void 0===b?{}:b,O=(0,o.useRef)({shippingData:y,billing:r,name:e,gatewayId:n,activePaymentMethod:g}),E=(0,u.usePaymentMethodDataContext)(),_=E.paymentMethodData,S=E.doPaymentDataFilter;(0,a.useThreeDSecure)({name:e,gatewayId:n,skip:d}),(0,c.useDeviceData)(w),(0,o.useEffect)((function(){O.current={shippingData:y,billing:r,name:e,gatewayId:n,activePaymentMethod:g,paymentMethodData:_}})),(0,o.useEffect)((function(){var t=m(h(l().mark((function t(){var e,r,o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O.current.activePaymentMethod!=O.current.name){t.next=15;break}return t.prev=1,e="".concat(n,"_nonce_key"),r=O.current.paymentMethodData,o=f({meta:{paymentMethodData:p({},e,(null==r?void 0:r.nonce)||"")}},r),t.next=7,S(o,f({nonceKey:e},O.current));case 7:return o={meta:f({},(o=t.sent).meta)},t.abrupt("return",(0,i.ensureSuccessResponse)(v,o));case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",(0,i.ensureErrorResponse)(v,t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,12]])}))));return function(){return t()}}),[n,m,S])};e.useProcessPayment=y;var v=y;e.default=v},3201:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.useThreeDSecure=e.default=void 0;var n=r(9307),o=r(5736),i=r(7753),a=r(9154),c=r(89);function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var l=function(t){var e,r,l=t.name,s=(t.gatewayId,t.skip),f=void 0!==s&&s,p=t.vaulted,d=void 0!==p&&p,h=(0,a.getSettings)(l),y=(0,c.usePaymentMethodDataContext)(),v=y.client,m=y.notice,g=y.onPaymentDataFilter,b=y.threeDSecureEnabled,w=m.addNotice,O=(e=(0,n.useState)(null),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,r)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),E=O[0],_=O[1];return(0,n.useEffect)((function(){if((b||d)&&v&&!E)try{(0,i.create)({version:2,client:v},(function(t,e){t?w(t):_(e)}))}catch(t){console.log(t)}}),[E,b,d,v,w]),(0,n.useEffect)((function(){if(!f&&E){var t=g((function(t,e){var r=e.nonceKey,n=e.shippingData,i=e.billing;return new Promise((function(e,c){var u,l,s,f,p,d,y,v=n.needsShipping,m=n.shippingAddress,g=i.billingAddress,b=i.cartTotal,w=i.currency;E.verifyCard({amount:(0,a.removeNumberPrecision)(b.value,w.minorUnit),nonce:t.nonce,bin:null==t||null===(u=t.details)||void 0===u?void 0:u.bin,email:g.email||"",challengeRequested:h("challengeRequested"),collectDeviceData:!0,billingAddress:{givenName:g.first_name,surname:g.last_name,phoneNumber:g.phone,streetAddress:null===(l=g.address_1)||void 0===l?void 0:l.slice(0,50),extendedAddress:null===(s=g.address_2)||void 0===s?void 0:s.slice(0,50),locality:null===(f=g.city)||void 0===f?void 0:f.slice(0,50),region:g.state,postalCode:g.postcode,countryCodeAlpha2:g.country},additionalInformation:v?{shippingGivenName:m.first_name,shippingSurname:m.last_name,shippingAddress:{streetAddress:null===(p=m.address_1)||void 0===p?void 0:p.slice(0,50),extendedAddress:null===(d=m.address_2)||void 0===d?void 0:d.slice(0,50),locality:null===(y=m.city)||void 0===y?void 0:y.slice(0,50),region:m.state,postalCode:m.postcode,countryCodeAlpha2:m.country},ipAddress:h("ipAddress")}:{ipAddress:h("ipAddress")},onLookupComplete:function(t,e){return e()}},(function(n,i){var a;n?c(n):"challenge_required"===(null==i||null===(a=i.threeDSecureInfo)||void 0===a?void 0:a.status)?(E.teardown().then((function(){return _(null)})),c({message:(0,o.__)("3DS authorization cancelled.","woo-payment-gateway")})):(t.meta.paymentMethodData[r]=i.nonce,e(t))}))}))}),20);return function(){return t()}}}),[f,E]),E};e.useThreeDSecure=l;var s=l;e.default=s},5520:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(8581);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var o=r(57);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}))},8581:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.useLoadPayPal=e.default=void 0;var n=r(9307);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var i=function(t){var e,r,i=t.paypalCheckoutInstance,a=t.currency,c=t.addNotice,u=t.clientToken,l=t.intent,s=t.flow,f=t.partnerCode,p=(e=(0,n.useState)(null),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,r)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=p[0],h=p[1],y=(0,n.useRef)({});return(0,n.useEffect)((function(){y.current.addNotice=c}),[c]),(0,n.useEffect)((function(){if(i)if(window.paypal)h(window.paypal);else{var t,e,r={"client-id":null===(t=u=JSON.parse(window.atob(u)))||void 0===t||null===(e=t.paypal)||void 0===e?void 0:e.clientId,commit:!0,intent:"vault"===s?"tokenize":l,currency:a,vault:"vault"===s,components:"buttons,messages",dataAttributes:{"partner-attribution-id":f}};i.loadPayPalSDK(r).then((function(){h(window.paypal)})).catch((function(t){y.current.addNotice(t)}))}}),[i]),d};e.useLoadPayPal=i;var a=i;e.default=a},57:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.usePayPalOptions=e.default=void 0;var n,o=r(9307),i=(n=r(9567))&&n.__esModule?n:{default:n},a=r(5736),c=r(2819),u=r(9154),l=(r(6066),r(89)),s=void 0;function f(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v=function(t){var e=t.getData,r=t.addNotice,n=t.paypal,d=t.paypalCheckoutInstance,y=t.billing,v=t.shippingData,m=t.eventRegistration,g=t.emitResponse,b=t.onClick,w=t.onClose,O=y.cartTotal,E=y.currency,_=v.needsShipping,S=g.noticeContexts,P=g.responseTypes,j=(0,o.useRef)({billing:y,shippingData:v}),x=(0,o.useRef)({}),k=(0,l.usePaymentMethodDataContext)(),L=k.onSubmit,A=k.onPaymentDataFilter,C=k.setPaymentMethodData,D=m.onCheckoutFail;(0,o.useEffect)((function(){var t=D((function(){return x.current.incompleteBilling?{type:P.ERROR,message:(0,a.__)("Please complete all required billing fields below then click Place Order.","woo-payment-gateway"),messageContext:S.EXPRESS_PAYMENTS}:null}));return function(){return t()}}),[D,P,S]);var N=(0,o.useCallback)((function(t){var r=e("buttonStyle");switch(t){case n.FUNDING.PAYPAL:return r;case n.FUNDING.PAYLATER:return h(h({},r),e("bnplButtonStyle"));default:return r}}),[n]);(0,o.useEffect)((function(){j.current={billing:y,shippingData:v,onClick:b,onClose:w,onSubmit:L,addNotice:r}}),[y,v,b,w,L,r]),(0,o.useEffect)((function(){var t=A((function(t,e){var r=e.nonceKey,n=e.billing,o=e.shippingData;return t.meta.paymentMethodData[r]=x.current.nonce,t.meta.billingAddress=h(h(h({},u.DEFAULT_BILLING_ADDRESS),n.billingAddress),x.current.billingAddress),t.meta.shippingAddress=h(h(h({},u.DEFAULT_SHIPPING_ADDRESS),o.shippingAddress),x.current.shippingAddress),t}),5);return function(){return t()}}),[A]);var T=(0,o.useCallback)((function(t,r){return new Promise((function(n,o){i.default.ajax({method:"POST",url:e("routes").shipping,data:{payment_method:"braintree_paypal",address:t,shipping_method:r},dataType:"json",success:function(t,e,r){t.code?o(t):n(t)}.bind(s),error:function(t){o(t)}.bind(s)})}))}),[]),M=(0,o.useMemo)((function(){if(n&&d){var t=[],r=[n.FUNDING.PAYPAL];e("bnplEnabled")&&r.push(n.FUNDING.PAYLATER);for(var o=0,i=r;o<i.length;o++){var l=i[o],s={fundingSource:l,style:N(l),onError:function(t){j.current.onClose(),j.current.addNotice(t)},onClick:function(){j.current.onClick()},onApprove:function(t,e){return d.tokenizePayment(t).then((function(t){var e,r,n,o,i,l,s,p,d,h=j.current.billing.billingAddress,y=j.current.shippingData.needsShipping;if(x.current={nonce:t.nonce,billingAddress:{}},null!=t&&null!==(e=t.details)&&void 0!==e&&null!==(r=e.billingAddress)&&void 0!==r&&r.line1){var v=t.details.billingAddress;x.current.billingAddress={address_1:v.line1,address_2:v.line2,city:v.city,state:v.state,postcode:v.postalCode,country:v.countryCode}}if(!(0,c.isEmpty)(null==t||null===(n=t.details)||void 0===n?void 0:n.shippingAddress)){var m,g=t.details.shippingAddress,b=(p=(0,u.extractFullName)(g.recipientName),d=2,function(t){if(Array.isArray(t))return t}(p)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(p,d)||f(p,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=b[0],O=b[1];x.current.shippingAddress={first_name:w,last_name:O,address_1:g.line1||"",address_2:g.line2||"",city:g.city||"",state:g.state||"",postcode:g.postalCode||"",country:g.countryCode||""},(0,c.isEmpty)(x.current.billingAddress)&&(x.current.billingAddress=x.current.shippingAddress),null!==(m=t.details)&&void 0!==m&&m.phone&&(x.current.shippingAddress.phone=t.details.phone)}null!==(o=t.details)&&void 0!==o&&o.phone&&(x.current.billingAddress.phone=t.details.phone),null!==(i=t.details)&&void 0!==i&&i.email&&(x.current.billingAddress.email=t.details.email),null!==(l=t.details)&&void 0!==l&&l.firstName&&(x.current.billingAddress.first_name=t.details.firstName),null!==(s=t.details)&&void 0!==s&&s.lastName&&(x.current.billingAddress.last_name=t.details.lastName),x.current.billingAddress.address_1||h.address_1||(x.current.incompleteBilling=!0),(0,u.cartContainsSubscription)()&&y?j.current.addNotice((0,a.__)("Please select a shipping option then click Place Order to complete your payment.","woo-payment-gateway"),"info"):(x.current.nonce=t.nonce,C({nonce:t.nonce}))}))},createOrder:function(){return d.createPayment({flow:(0,u.cartContainsSubscription)()?"vault":"checkout",intent:e("intent"),currency:E.code,displayName:e("displayName"),amount:(0,u.removeNumberPrecision)(O.value,E.minorUnit),enableShippingAddress:_,shippingAddressEditable:_}).then((function(t){return t})).catch((function(t){console.log(t)}))},onCancel:function(){j.current.onClose()}};(0,u.cartContainsSubscription)()&&(s.createBillingAgreement=s.createOrder,delete s.createOrder),_&&!s.hasOwnProperty("createBillingAgreement")&&(s.onShippingChange=function(t,e){var r=t.shipping_address,n=t.selected_shipping_option,o=void 0===n?null:n,i=(null==o?void 0:o.id)||null,a=j.current.shippingData,c={city:r.city||"",state:r.state||"",postcode:r.postal_code||"",country:r.country_code||""};return T(c,i).then((function(t){var r=t.data.braintree_paypal.patch;return e.order.patch(r).then((function(){return e.resolve()}))})).finally((function(){var t;i&&a.setSelectedRates.apply(a,function(t){if(Array.isArray(t))return p(t)}(t=(0,u.extractSelectedShippingOption)(i))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}))}),n.Buttons(s).isEligible()&&t.push(s)}return t}}),[n,_,T,C,d]);return M};e.usePayPalOptions=v;var m=v;e.default=m},2569:function(t,e,r){var n,o=r(9307),i=r(9307),a=r(4613),c=r(3554),u=r(8817),l=r(8941),s=r(9154),f=r(6723),p=r(89),d=r(5520),h=r(3636),y=(n=r(8873))&&n.__esModule?n:{default:n};function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g=(0,s.getSettings)("braintree_paypal");(0,a.registerExpressPaymentMethod)({name:"braintree_paypal_express",gatewayId:"braintree_paypal",paymentMethodId:"braintree_paypal",canMakePayment:function(){return(0,s.isCartPage)()?g("expressCartEnabled"):(0,s.isCheckoutPage)()?g("expressCheckoutEnabled"):void 0},content:o.createElement(f.PaymentMethod,{content:function(t){var e=t.billing,r=t.shippingData,n=t.eventRegistration,a=t.emitResponse,c=t.onClick,u=t.onClose,y=e.currency,m=(0,p.usePaymentMethodDataContext)().notice,b=m.addNotice,w=v((0,i.useState)(null),2),O=w[0],E=w[1],_=(0,i.useRef)();(0,h.useExpressBreakpointWidth)({breakpoint:375});var S=(0,d.useLoadPayPal)({paypalCheckoutInstance:O,currency:y.code,clientToken:(0,s.getClientToken)(),addNotice:b,intent:g("intent"),flow:(0,s.cartContainsSubscription)()?"vault":"checkout",partnerCode:g("partnerCode")}),P=(0,d.usePayPalOptions)({getData:g,addNotice:b,paypal:S,paypalCheckoutInstance:O,billing:e,shippingData:r,eventRegistration:n,emitResponse:a,onClick:c,onClose:u});return(0,i.useEffect)((function(){(0,l.create)({authorization:(0,s.getClientToken)(),merchantAccountId:(0,s.getMerchantAccount)(y.code)}).then((function(t){E(t)})).catch((function(t){b(t)}))}),[]),(0,i.useEffect)((function(){S&&P&&P.forEach((function(t){var e=S.Buttons(t);e&&e.isEligible()&&e.render(_.current)}))}),[S,P]),o.createElement(o.Fragment,null,(null==m?void 0:m.notice)&&o.createElement(f.Notice,{notice:m.notice,onRemove:m.removeNotice}),o.createElement("div",{ref:_}))},title:g("title"),name:"braintree_paypal_express",gatewayId:"braintree_paypal",icon:g("icon"),getData:g,isExpress:!0,advancedFraudOptions:{paypal:!0}}),edit:o.createElement(y.default,{src:g("editor").icon}),supports:{showSavedCards:g("features").includes("tokenization"),showSaveOption:!0,features:g("features")}});var b=function(t){var e=t.cart,r=(t.extensions,t.context,e.cartTotals),n=r.currency_code,a=r.total_price,u=v((0,i.useState)(),2),f=u[0],p=u[1],h=g("payLaterMsgCurrencies"),y=g("paylaterMsgEnabled")&&h.includes(n)&&!(0,s.cartContainsSubscription)(),m=(0,i.useRef)(null);if(!y)return null;(0,i.useEffect)((function(){(0,l.create)({authorization:(0,s.getClientToken)(),merchantAccountId:(0,s.getMerchantAccount)(n)}).then((function(t){return p(t)})).catch((function(){}))}),[]);var b=(0,d.useLoadPayPal)({paypalCheckoutInstance:f,currency:n,addNotice:null,clientToken:(0,s.getClientToken)(),intent:g("intent"),flow:"checkout",partnerCode:g("partnerCode")});return(0,i.useEffect)((function(){b&&b.Messages({amount:a/Math.pow(10,r.currency_minor_unit),currency:n,placement:"checkout",style:{layout:"text",logo:{type:"primary",position:"left"},text:{color:g("paylaterTxtColor")}}}).render(m.current)}),[b,a]),o.createElement(c.TotalsWrapper,null,o.createElement("div",{className:"wc-block-components-totals-item"},o.createElement("div",{ref:m,className:"paypal-msg-container"})))};(0,u.registerPlugin)("wc-braintree",{render:function(){return o.createElement(c.ExperimentalOrderMeta,null,o.createElement(b,null))},scope:"woocommerce-checkout"})},8873:function(t,e,r){var n=r(9307);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.src;return n.createElement("div",{className:"paypal-block-editor",style:{height:"40px",maxHeight:"40px",backgroundColor:"#ffc439",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement("img",{src:e,style:{width:"100%",height:"25px",objectFit:"contain"}}))}},9154:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.storeInCache=e.removeNumberPrecision=e.loadClient=e.isCheckoutPage=e.isCartPage=e.getShippingOptionId=e.getSettings=e.getSelectedShippingOptionId=e.getMerchantAccount=e.getFromCache=e.getErrorMessage=e.getClientToken=e.getCartTotalItem=e.formatPrice=e.formatPaymentMethod=e.fetchTokenNonce=e.extractSelectedShippingOption=e.extractFullName=e.extractAddressLines=e.ensureSuccessResponse=e.ensureErrorResponse=e.deleteFromCache=e.cartContainsSubscription=e.canShowSavedCard=e.canMakePayment=e.DEFAULT_SHIPPING_ADDRESS=e.DEFAULT_BILLING_ADDRESS=e.BraintreeError=void 0;var o,i=r(4617),a=(o=r(6989))&&o.__esModule?o:{default:o},c=r(8330),u=r(4293);function l(){"use strict";l=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function h(){}function y(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function o(i,a,c,u){var l=f(t[i],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==n(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y,u(b,"constructor",y),u(y,"constructor",h),h.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),u(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){var e="function"==typeof Map?new Map:void 0;return d=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return h(t,arguments,m(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,t)},d(t)}function h(t,e,r){return h=y()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&v(o,r.prototype),o},h.apply(null,arguments)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var O=(0,i.getSetting)("wcBraintreeData"),E=(0,i.getSetting)("wcBraintreeMessages"),_=/^([\w]+)\:(.+)$/;e.getSettings=function(t){return t="".concat(t,"_data"),function(e){return e?(0,i.getSetting)(t)[e]:(0,i.getSetting)(t)}},e.getClientToken=function(){return O.clientToken},e.getMerchantAccount=function(t){var e;return null!=O&&null!==(e=O.merchantAccounts)&&void 0!==e&&e[t]?O.merchantAccounts[t]:null};var S=new Promise((function(t,e){(0,c.create)({authorization:O.clientToken},(function(r,n){r?e(r):t(n)}))}));e.loadClient=S,e.canMakePayment=function(){return new Promise((function(t,e){S.then((function(){return t(!0)})).catch((function(e){console.log("Error loading client: ",e),t({error:e})}))}))},e.ensureSuccessResponse=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b({type:t.SUCCESS},e)},e.ensureErrorResponse=function(t,e){return{type:t.ERROR,message:P(e)}};var P=function(t){var e=null==t?void 0:t.message;return"string"==typeof t?e=t:t.code&&E[t.code]&&(e=E[t.code]),e};e.getErrorMessage=P,e.removeNumberPrecision=function(t,e){return t/Math.pow(10,e)};var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(i,t);var e,r,n,o=(e=i,r=y(),function(){var t,n=m(e);if(r){var o=m(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return p(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t.message)).error=t,e}return n=i,Object.defineProperty(n,"prototype",{writable:!1}),n}(d(Error));e.BraintreeError=j;var x=function(t){return"".concat("wcBraintree:").concat(t)};e.storeInCache=function(t,e){var r=Math.floor((new Date).getTime()/1e3)+900;"sessionStorage"in window&&sessionStorage.setItem(x(t),JSON.stringify({value:e,exp:r}))},e.getFromCache=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("sessionStorage"in window)try{var r=JSON.parse(sessionStorage.getItem(x(t)));if(r){var n=r.value,o=r.exp;if(!(Math.floor((new Date).getTime()/1e3)>o))return n;k(x(t))}}catch(t){}return e};var k=function(t){"sessionStorage"in window&&sessionStorage.removeItem(x(t))};e.deleteFromCache=k,e.formatPrice=function(t,e){var r,n=(0,u.getCurrency)(e),o=n.prefix,i=n.suffix,a=n.decimalSeparator,c=n.minorUnit,l=n.thousandSeparator;if(""==t||void 0===t)return t;t="string"==typeof t?parseInt(t,10):t;var s="",f=(t=(t/=Math.pow(10,c)).toString().replace(".",a)).indexOf(a);if(f<0)c>0&&(t+="".concat(a).concat(new Array(c+1).join("0")));else{var p=t.substr(f+1);p.length<c&&(t+=new Array(c-p.length+1).join("0"))}var d=t.match(new RegExp("(\\d+)\\".concat(a,"(\\d+)")));return d&&(t=d[1],s=d[2]),t=t.replace(new RegExp("\\B(?=(\\d{3})+(?!\\d))","g"),"".concat(l)),o+(t=(null===(r=s)||void 0===r?void 0:r.length)>0?t+a+s:t)+i};var L=function(t,e){return"".concat(t,":").concat(e)};e.getShippingOptionId=L,e.extractSelectedShippingOption=function(t){var e=t.match(_);if(e){var r=e[1];return[e[2],r]}return[]},e.getSelectedShippingOptionId=function(t){for(var e=0,r=Object.keys(t);e<r.length;e++){var n=r[e];return L(n,t[n])}},e.extractFullName=function(t){return[t.split(" ").slice(0,-1).join(" "),t.split(" ").pop()]},e.extractAddressLines=function(t){var e,r;return Array.isArray(t)&&(e=null==t?void 0:t[0],t.length>1&&(r=null==t?void 0:t[1])),{address_1:e,address_2:r}},e.getCartTotalItem=function(t,e){var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.key===t)return o.value}}catch(t){n.e(t)}finally{n.f()}return null},e.canShowSavedCard=function(){return!A()};var A=function(){return 1==(null==O?void 0:O.hasSubscription)};e.cartContainsSubscription=A,e.isCartPage=function(){return"cart"===O.page},e.isCheckoutPage=function(){return"checkout"===O.page};var C={first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""};e.DEFAULT_SHIPPING_ADDRESS=C;var D=b(b({},C),{},{email:""});e.DEFAULT_BILLING_ADDRESS=D,e.formatPaymentMethod=function(t,e){e=b(b({},e),{},{card_type:e.brand,last4:e.lastDigits});var r={};Object.keys(e).forEach((function(t){r["{".concat(t,"}")]=e[t]}));var n=t;return Object.keys(r).forEach((function(t){for(;n.includes(t);)n=n.replace(t,r[t])})),n};var N=function(){var t,e=(t=l().mark((function t(e){var r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,a.default)({path:"/wc-braintree/v1/3ds/vaulted_nonce",method:"POST",data:{token_id:e,version:2}});case 3:return r=t.sent,t.abrupt("return",r);case 7:t.prev=7,t.t0=t.catch(0),console.info("Error fetching 3ds nonce. ",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){s(i,n,o,a,c,"next",t)}function c(t){s(i,n,o,a,c,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();e.fetchTokenNonce=N},1517:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(8712);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}))},8712:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.useHandleTokenization=e.default=void 0;var o=r(9307),i=r(89);function a(){"use strict";a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p={};function d(){}function h(){}function y(){}var v={};l(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,i)&&(v=g);var b=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function o(i,a,c,u){var l=f(t[i],t,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==n(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(p).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(l.arg)}var i;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=y,l(b,"constructor",y),l(y,"constructor",h),h.displayName=l(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(O.prototype),l(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),l(b,u,"Generator"),l(b,i,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function c(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){c(i,n,o,a,u,"next",t)}function u(t){c(i,n,o,a,u,"throw",t)}a(void 0)}))}}var l=function(t){var e=t.venmoInstance,r=t.onSubmit,n=(0,o.useRef)(null),c=(0,i.usePaymentMethodDataContext)(),l=c.onPaymentDataFilter,s=c.paymentMethodNonce,f=c.setPaymentMethodNonce,p=c.notice.addNotice,d=(0,o.useCallback)(u(a().mark((function t(){var o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!s){t.next=5;break}r(),t.next=10;break;case 5:return t.next=7,e.tokenize();case 7:o=t.sent,n.current={nonce:o.nonce},f(o.nonce);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),p(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),[e,r,s]);return(0,o.useEffect)((function(){var t=l((function(t,e){var r=e.nonceKey;return e.gatewayId,t.meta.paymentMethodData[r]=n.current.nonce,t}),5);return function(){return t()}}),[l]),{handleClick:d}};e.useHandleTokenization=l;var s=l;e.default=s},272:function(t,e,r){var n=r(9307),o=r(421),i=r(9307),a=r(5736),c=r(4613),u=r(6723),l=r(9154),s=r(89),f=r(1517);function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var d=(0,l.getSettings)("braintree_venmo"),h=new Promise((function(t,e){(0,o.create)({authorization:(0,l.getClientToken)(),allowNewBrowserTab:!0,allowDesktop:!0}).then((function(e){return t(e)})).catch((function(t){return e(t)}))})),y=function(t){var e,r,o=t.onSubmit,c=(0,s.usePaymentMethodDataContext)().notice,l=(e=(0,i.useState)(null),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,r)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=l[0],m=l[1],g=(0,f.useHandleTokenization)({venmoInstance:y,onSubmit:o}).handleClick;return(0,i.useEffect)((function(){h.then((function(t){return m(t)})).catch((function(t){return c.addNotice(t)}))}),[]),n.createElement(n.Fragment,null,(null==c?void 0:c.notice)&&n.createElement(u.Notice,{notice:c.notice,onRemove:c.removeNotice}),n.createElement("div",{className:"wc-braintree-blocks-venmo-button__container"},n.createElement("p",null,(0,a.__)("Complete your order with","woo-payment-gateway")),y&&n.createElement(v,{onClick:g,src:d("buttonIcon")})))},v=function(t){var e=t.onClick,r=t.src;return n.createElement("button",{className:"wc-braintree-blocks-venmo__button",onClick:function(t){t.preventDefault(),e()}},n.createElement("img",{src:r}))};(0,c.registerPaymentMethod)({name:d("name"),label:n.createElement(u.PaymentMethodLabel,{title:d("title"),paymentMethod:d("name"),icon:d("icon")}),ariaLabel:(0,a.__)("Venmo","woo-payment-gateway"),placeOrderButtonLabel:d("placeOrderButtonLabel"),canMakePayment:function(){return new Promise((function(t,e){h.then((function(e){t(e.isBrowserSupported())})).catch((function(e){t(!1)}))}))},content:n.createElement(u.PaymentMethod,{content:y,title:d("title"),description:d("description"),name:d("name"),gatewayId:d("name"),icon:d("icon"),getData:d}),savedTokenComponent:n.createElement(u.SavedTokenProvider,{getData:d,name:d("name"),gatewayId:d("name"),vaultedThreeDSecure:d("vaultedThreeDSecure")}),edit:n.createElement(u.PaymentMethod,{content:y,getData:d}),supports:{showSavedCards:d("features").includes("tokenization"),showSaveOption:!1,features:d("features")}})},4184:function(t,e){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&t.push(a)}}else if("object"===i){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){t.push(r.toString());continue}for(var c in r)n.call(r,c)&&r[c]&&t.push(c)}}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)}()},7884:function(){},2210:function(){},8291:function(t){"use strict";t.exports=JSON.parse('{"apiVersion":2,"name":"wc-braintree/fastlane-block","version":"2.0.0","title":"PayPal Fastlane block","category":"woocommerce","description":"Adds an invisible Fastlane block to the checkout page.","supports":{"html":false,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-fields-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"textdomain":"woo-payment-gateway"}')}}]);
//# sourceMappingURL=commons.js.map